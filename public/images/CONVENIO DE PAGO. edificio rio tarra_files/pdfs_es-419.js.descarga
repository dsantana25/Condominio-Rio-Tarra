/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1506640302 */
/* public/javascripts/4gen.js @ 1506640302 */
init_4gen=function(){var e;"undefined"!=typeof jQuery&&(e=jQuery);var t,n=3,i=8,r="/images/4gen/trans_1x1.gif",o=30,s=315,a=1,c=2,l=3,u=12;window.console||(window.console={log:function(){}});var d=function(){function d(){}function h(e,t){e.prototype.addEvent=d.prototype.addEvent,e.prototype.removeEvent=d.prototype.removeEvent,e.prototype.fireEvent=d.prototype.fireEvent,e.prototype.initEventHelper=d.prototype.initEventHelper,e.prototype.possibleEvents=t}function p(e,t,n,i,r,o){this.id=e,this.shortstyle=t,this.family=n,this.fallback=i,this.weight=r,this.style=o}function f(e){this.fonts=[],this.docManager=e,this._cssRuleQueue=[],this._fontLoadQueue=[]}function _(e,t){this.pages=[],this.loaded=!1,this.fonts={},this.numFonts=0,this.fontLoader=t,this.groupNum=e||0}function m(e){for(var t in this._defaultParams)this._defaultParams.hasOwnProperty(t)&&(this[t]=e[t]||this._defaultParams[t]);for(var n=0;n<this._requiredParams.length;n++){var i=this._requiredParams[n];if(!this[i])throw"Missing required Page param: "+i}if(!this.contentUrl&&!this.innerPageElem)throw"Must initialize a page with either a contentUrl or innerPageElem element";if(this.containerElem.boundToPageObj===!0)throw"Container Elem is already bound to a page.  We shouldn't get here";this.containerElem.boundToPageObj=!0,this._targetWidth=null,this._innerPageVisible=!!this.innerPageElem,this._imagesTurnedOn=!1,this.boundingRect=null,this.isVisible=!1,this.displayDirty=!0,this.displayOn=null,this.loadHasStarted=!!this.innerPageElem}function g(){this.initEventHelper(),this.viewRect=null,this.enabled=!1;var e=this;this._scrollCallback=function(){e._eventHandler("scroll")},this._resizeCallback=function(){e._eventHandler("resize")}}function v(){}function b(t,n,i){"undefined"==typeof e&&"undefined"!=typeof scribd&&x.setJQuery(scribd.jQuery),e("html, body").animate({scrollTop:e(t).offset().top},{queue:!1,duration:n,easing:"linear",complete:i})}function y(){this._name="book",this.currentPageId=null;var e=this;this._fullscreenResizedCallback=function(t){e._fullscreenResized(t)}}function w(){this._name="slideshow",this.currentPageId=null;var e=this;this._fullscreenResizedCallback=function(t){e._fullscreenResized(t)}}function k(){this._name="scroll";var e=this;this._verticalPositionChangeCallback=function(){e.checkAndUpdateVisiblePages()},this._fullscreenResizedCallback=function(){e._fullscreenResized()}}function x(t,n,i){this.options=i||{},this.options.extrasWidth=this.options.extrasWidth||s,this.defaultViewMode=t||"scroll",this.mobile=n||!1,e&&(this.view_manager_deferred=e.Deferred()),this.initEventHelper(),this.pages={},this._pageWidths=null,this._fontLoader=new f(this),this.viewManagers={scroll:new k,slideshow:new w,book:new y},this.viewportManager=new g,this._currentFontAggregatorHostIdx=0,this.visiblePages=[],this.firstVisiblePage=null,this.lastVisiblePage=null,this.currentFontGroup=new _(0,this._fontLoader),this.isScrolling=!1,this._scrollingCount=0}function S(e,t,n){return Math.min(n,Math.max(t,e))}function C(e){return Math.floor(100*e)/100}var T={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){var t,n,i,r,o,s,a,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=this._keyStr.indexOf(e.charAt(l++)),o=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),t=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|a,c+=String.fromCharCode(t),64!=s&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(i));return c=T._utf8_decode(c)},_utf8_decode:function(e){for(var t="",n=0,i=0,r=0;n<e.length;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n++):i>191&&224>i?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&c3),n+=3);return t}};d.prototype.initEventHelper=function(){this.eventListenerEnabled=!0,this.eventListeners={};for(var e=0;e<this.possibleEvents.length;e++)this.eventListeners[this.possibleEvents[e]]={}},d.prototype.addEvent=function(e,t){if(!this.eventListeners[e])throw e+" is not a valid type of event";this.eventListeners[e].next_uid||(this.eventListeners[e].next_uid=1),t._event_listener_uid||(t._event_listener_uid=this.eventListeners[e].next_uid,this.eventListeners[e].next_uid++),this.eventListeners[e][t._event_listener_uid]=t},d.prototype.removeEvent=function(e,t){delete this.eventListeners[e][t._event_listener_uid]},d.prototype.fireEvent=function(e){function t(e){e.apply(o,i)}if(this.eventListenerEnabled){var n=this.eventListeners[e],i=[];if(arguments.length>1){i[arguments.length-2]=null;for(var r=1;r<arguments.length;r++)i[r-1]=arguments[r]}var o=this;for(var s in n)"next_uid"!=s&&n.hasOwnProperty(s)&&t(n[s])}};var E="font_preload_bed",D=function(){return document.styleSheets[0]&&!document.styleSheets[0].insertRule},M=function(e){return e%1==0},N=function(e,t){if(D()){var n=e.innerHTML;e.href=t,e.innerHTML!=n&&(e.innerHTML=n)}else e.href=t},P=function(){var e=navigator.userAgent.toLowerCase();return e.search("android 2.2")>-1}(),R=function(){var e=navigator.userAgent.toLowerCase();return e.search("mobile")>-1&&e.search("safari")>-1&&!P}(),I=navigator.userAgent.indexOf("AppleWebKit/")>-1;t=function(){return D()?a:R?c:c}(),D()&&(i=5,n=2),P&&(i=1,n=1),p.prototype.eotCssRule=function(e){var t="src: url("+e+this.family+".eot); font-family: "+this.family+"; font-weight: "+this.weight+"; font-style: "+this.style;return"@font-face {"+t+"}"},p.prototype.ttfCssRule=function(e){var t="src: url("+e+this.family+".ttf) format('truetype'); font-family: "+this.family+"; font-weight: "+this.weight+"; font-style: "+this.style;return"@font-face {"+t+"}"},p.prototype.svgCssRule=function(e){var t="src: url("+e+"#"+this.family+") format('svg'); font-family: "+this.family+"; font-weight: "+this.weight+"; font-style: "+this.style;return"@font-face {"+t+"}"},p.prototype.createPreloadElem=function(){return"<span style='font-family: "+this.family+"'>scribd.</span> "},f.prototype._makeNewStyleBlock=function(){var e=document.createElement("style");window.createPopup||e.appendChild(document.createTextNode(""));var t=document.getElementsByTagName("head")[0];return t.appendChild(e),e},f.prototype._insertCssRule=function(e){this._cssRuleQueue.push(e)},f.prototype._flushCssRuleQueue=function(e){if(this._cssRuleQueue.length>0){var t=e&&document.getElementById(e)||this._makeNewStyleBlock(),n=this._cssRuleQueue.join("\n");D()?t.styleSheet.cssText=n:window.createPopup?t.innerHTML=n:t.appendChild(document.createTextNode(n)),this._cssRuleQueue=[]}},f.prototype.getFontAggregatorHostForFonts=function(e){for(var n=[],i=0;i<e.length;i++)n.push(e[i].shortstyle+e[i].id);n.sort();var r=this.docManager.nextFontAggregatorHost()+"/"+this.docManager.assetPrefix+"/"+n.join(",")+"/"+u+"/";switch(t){case a:break;case c:P||(r+="ttfs.css");break;case l:r+="fonts.svg"}return r},f.prototype._addTTFRules=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];this._insertCssRule(i.ttfCssRule(t))}},f.prototype._addSVGRules=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];this._insertCssRule(i.svgCssRule(t))}},f.prototype._addEOTRules=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];this._insertCssRule(i.eotCssRule(t))}},f.prototype._nextPreloadId=function(){this._preloadId||(this._preloadId=0);var e="preload_bed"+this._preloadId;return this._preloadId+=1,e},f.prototype._addCSSWebkit=function(e,t){function n(){{var e=document.createElement("div");i._nextPreloadId()}e.innerHTML=s;var n=document.getElementById(E),o=window.setInterval(function(){r.contentDocument.styleSheets.length>0&&(window.clearInterval(o),r.contentDocument.body.getBoundingClientRect(),n.appendChild(e),window.setTimeout(function(){r.contentDocument.body.getBoundingClientRect(),i._addCSSLink(t)},500))},0)}var i=this,r=document.createElement("iframe"),o=this._nextPreloadId();r.id=o;for(var s="",a=0;a<e.length;a++){var c=e[a];s+=c.createPreloadElem()}this._makeNewStyleBlock();r.addEventListener("load",function(){n()},!1),r.style.display="none",document.body.appendChild(r),r.contentDocument.body.innerHTML=s;var l=r.contentDocument.createElement("link");l.href=t,l.rel="stylesheet",l.type="text/css",l.media="screen";var u=r.contentDocument.getElementsByTagName("head")[0];u.appendChild(l)},f.prototype._addCSSLink=function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css";var n=document.getElementsByTagName("head")[0];n.appendChild(t)},f.prototype.flushFontQueue=function(){if(0!==this._fontLoadQueue.length&&"rasterize"!=this.docManager.displayType){var e=this._fontLoadQueue;this._fontLoadQueue=[];var n=this.getFontAggregatorHostForFonts(e);switch(t){case a:this._addEOTRules(e,n);break;case c:P?this._addTTFRules(e,n):I?this._addCSSWebkit(e,n):this._addCSSLink(n);break;case l:this._addSVGRules(e,n)}this._flushCssRuleQueue()}},f.prototype.addFontToQueue=function(e){var t=this.fonts[e];t._loadQueued||(t._loadQueued=!0,this._fontLoadQueue.push(t))},f.prototype.addFont=function(e,t,n,i,r,o){var s=new p(e,t,n,i,r,o);this.fonts[e]=s},f.prototype.setNumFonts=function(e){for(var t=0;e>t;t++)this.fonts[t]=new p(t,"","ff"+t,"sans-serif","normal","normal")},f.prototype._initHidersCSS=function(){for(var e=[],t=0;t<this.fonts.length;t++)e.push("."+this.fonts[t].family);this._insertCssRule(e.join(", ")+" {display: none;}\n")},f.prototype._initFamilyCSS=function(){for(var e=0;e<this.fonts.length;e++){var t=this.fonts[e].family,n=this.fonts[e].fallback,i=this.fonts[e].weight,r=this.fonts[e].style,o="div."+t+" span";"undefined"!=typeof scribd&&"undefined"!=typeof scribd.embed_div_id&&(o="#"+scribd.embed_div_id+" "+o),this._insertCssRule(D()?o+" {font-family: "+t+" !important;\n}":o+" {font-family: "+t+", "+n+"; font-weight: "+i+"; font-style: "+r+";\n}")}},f.prototype.initStyles=function(){if("rasterize"!=this.docManager.displayType){switch(this._initFamilyCSS(),t){case a:break;case c:P||this._initHidersCSS();break;case l:}this._flushCssRuleQueue("preload_styler")}},f.prototype.setupTestElements=function(){if(t==c&&!I&&"rasterize"!=this.docManager.displayType){for(var e="",n=0;n<this.fonts.length;n++){var i=this.fonts[n];e+=i.createPreloadElem()}var r=document.getElementById(E);r.innerHTML=e,document.body.appendChild(r),this._insertCssRule("#"+E+" span {display: block; visibility: hidden}"),this._flushCssRuleQueue()}},_.prototype.addPage=function(e){for(var t=0;t<e.fonts.length;t++){var n=e.fonts[t];void 0===this.fonts[n]&&(this.fonts[n]=!0,this.numFonts+=1)}this.pages.push(e)},_.prototype.isFull=function(){var e=this.pages.length,n=this.groupNum,r=this.numFonts;return t==a?this.hasLoaded||r>50||r>=20&&(0===n&&e>=i+3||e>=15):t==l||P?this.hasLoaded||r>=5&&e>=i:this.hasLoaded||r>100||r>=20&&(0===n&&e>=i+3||e>=100)},_.prototype.load=function(e){function t(){for(var e in n.fonts)n.fonts.hasOwnProperty(e)&&n.fontLoader.addFontToQueue(e);n.fontLoader.flushFontQueue()}if(!this.hasLoaded){this.hasLoaded=!0;var n=this;e?window.setTimeout(function(){t()},e):t()}},_.prototype.newNextGroup=function(){return new _(this.groupNum+1,this.fontLoader)};var O=1,A=2,j=3,$=4,L=function(){return void 0!==document.documentElement.style.WebkitTransform?O:void 0!==document.documentElement.style.MozTransform?A:void 0!==document.documentElement.style.OTransform?$:j}();m.prototype._defaultParams={containerElem:null,innerPageElem:null,contentUrl:null,origWidth:null,origHeight:null,fonts:null,docManager:null,pageNum:null},m.prototype._requiredParams=["origWidth","origHeight","fonts","docManager","containerElem","pageNum"],m.prototype._updateBoundingRect=function(){var e,t,n,i;if(this.containerElem.getBoundingClientRect&&this.docManager.viewportManager.viewRect){var r=this.containerElem.getBoundingClientRect(),o=this.docManager.viewportManager.viewRect;t=r.left+o.left,e=r.top+o.top,o.offsetX&&(t-=o.offsetX),o.offsetY&&(e-=o.offsetY),n=r.right-r.left,i=r.bottom-r.top,this.boundingRect={left:t,top:e,bottom:e+i,right:t+n,width:n,height:i}}else e=this.containerElem.offsetTop,t=this.containerElem.offsetLeft,n=this.containerElem.offsetWidth,i=this.containerElem.offsetHeight,this.boundingRect={left:t,top:e,bottom:e+i,right:t+n,width:n,height:i}},m.prototype._setContainerContents=function(t){var n=/<noscript *><img[^<>]*\/><\/noscript *>/g,i=e(t.replace(n,""))[0];this.containerElem.appendChild(i);this.innerPageElem=i,this.turnOnLinks(),this.turnOnImages(),this.fixSVGFonts(),this.displayDirty=!0,this.displayOn?this.display():this.hide()},m.prototype.fixSVGFonts=function(){if(this._svgFontsFixed)throw"Already fixed the svg fonts";if(this.innerPageElem){if(R){var e=function(t){if(t.nodeType==document.TEXT_NODE){var n=t.textContent.search(/[  \n][^ \n ]/);n>=0&&e(t.splitText(n+1))}else for(var i=t.childNodes,r=0;r<i.length;r++)e(i[r])},t=function(e){for(var n=e.childNodes,i=0;i<n.length;i++){var r=n[i];if(r.nodeType==document.ELEMENT_NODE)t(r);else{var o=n[i+1];o&&"#text"==o.nodeName&&e.insertBefore(document.createElement("span"),o)}}};e(this.innerPageElem),t(this.innerPageElem)}this._svgFontsFixed=!0}},m.prototype.imagePageContent=function(e){return str="<img src='"+e+"'></img>"},m.prototype.load=function(){if(this.currentlyLoading=!0,this.loadHasStarted=!0,this.innerPageElem)throw"We already have loaded this page, but it looks like you called loadPage again";this.loadFonts();var t="page"+this.pageNum+"_callback";if(window[t])try{delete window[t]}catch(n){window[t]=void 0}if("rasterize"==this.docManager.displayType)return delete this.currentlyLoading,void this._setContainerContents(this.imagePageContent(this.contentUrl));var i=document.createElement("script"),r=this;window[t]=function(n){document.body.removeChild(i);var o=n[0];delete r.currentlyLoading,r._setContainerContents(o),"undefined"!=typeof e&&($container=e("#"+r.containerElem.id),$container.hasClass("blurred_page")&&r.docManager.doDynamicBlurring(r.containerElem.id)),r.docManager.fireEvent("pageLoaded",r.containerElem);try{delete window[t]}catch(s){window[t]=void 0}},i.src=this.contentUrl,i.type="text/javascript",i.charset="UTF-8",document.body.appendChild(i)},m.prototype.remove=function(){if(this.innerPageElem){var e=this.innerPageElem.parentNode;e.removeChild(this.innerPageElem),delete this.innerPageElem,delete this.currentLoading,delete this.loadHasStarted,this._linksTurnedOn=!1,this._imagesTurnedOn=!1,this._svgFontsFixed=!1}},m.prototype.display=function(e,t){if((!this.displayOn||this.displayDirty)&&(this.displayOn=!0,!this.currentlyLoading)){if(!this.innerPageElem)return this.loadHasStarted?void 0:e?void this.load():void 0;this.displayDirty=!1,t||(this._linksTurnedOn||this.turnOnLinks(),this._imagesTurnedOn||this.turnOnImages(),this._svgFontsFixed||this.fixSVGFonts()),this.loadFonts(),this._innerPageVisible||(this.containerElem.className=this.containerElem.className.replace(/placeholder|not_visible/g,""),this._innerPageVisible=!0,t||(this._fitContentsToWidth(),this.innerPageElem.style.display="block"))}},m.prototype.hide=function(){(this.displayOn||this.displayDirty)&&(this.displayOn=!1,this.innerPageElem&&(this.displayDirty=!1,this.containerElem.className=this.containerElem.className+" not_visible",this._innerPageVisible=!1,this.innerPageElem.style.display="none"))},m.prototype.setLoadFontGroup=function(e){e.addPage(this),this.loadFontGroup=e},m.prototype.loadFonts=function(){this.loadFontGroup.load()};var F=!!(document.all&&/msie 6./i.test(navigator.appVersion)&&window.ActiveXObject);return m.prototype._setZoomScale=function(e){var t=this.innerPageElem;switch(L){case O:t.style.WebkitTransform="scale("+e+")",t.style.WebkitTransformOrigin="top left";break;case A:t.style.MozTransform="scale("+e+")",t.style.MozTransformOrigin="top left";break;case $:t.style.OTransform="scale("+e+")",t.style.OTransformOrigin="top left";break;case j:if(t.originalZoom||(t.originalZoom="normal"==t.currentStyle.zoom?1:parseFloat(t.currentStyle.zoom)/100,F&&!this.docManager._isEmbed&&(t.originalZoom*=1.35)),t.style.zoom=t.originalZoom*e*100+"%",F){var n=this.innerPageElem;setTimeout(function(){n.style.marginLeft=""===n.style.marginLeft?0:""},500)}break;default:throw"Unknown scale method "+L}},m.prototype._fitContentsToWidth=function(){if(this._targetWidth&&this.innerPageElem&&this._innerPageVisible){var e=this._targetWidth/this.origWidth;this._setZoomScale(e),this._targetWidth=null}},m.prototype.setWidth=function(e){var t=Math.ceil(e/this.origWidth*this.origHeight);this.containerElem.style.width=e+"px",this.containerElem.style.height=t+"px",this._targetWidth=e,this._fitContentsToWidth()},m.prototype.setBounds=function(e,t){this.origWidth/this.origHeight>e/t?t=Math.ceil(e/this.origWidth*this.origHeight):e=Math.ceil(t/this.origHeight*this.origWidth),this.containerElem.style.width=e+"px",this.containerElem.style.height=t+"px",this._targetWidth=e,this._fitContentsToWidth()},m.prototype.turnOnImages=function(){if(!this.innerPageElem)throw"Can't turn on images for a page that's not loaded";if(this._imagesTurnedOn)throw"Images have already been turned on for this document";this._imagesTurnedOn=!0;for(var e=this.innerPageElem.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t];if(n.className.toLowerCase().search("absimg")>-1&&!n.src){var i=this.docManager.subImageSrc(n.getAttribute("orig"));this.docManager.enablePNGHack?(n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='scale')",n.src=r):n.src=i,n.removeAttribute("orig"),n.style.display="block"}}},m.prototype.turnOnLinks=function(){if(!this.innerPageElem)throw"Can't turn on links for a page that's not loaded";if(this._linksTurnedOn)throw"Links have already been turned on for this document";this._linksTurnedOn=!0;for(var e=this.docManager,t=function(t){return function(){e.gotoPage(t.substring(4))}},n=this.innerPageElem.getElementsByTagName("a"),i=0;i<n.length;i++){var r=n[i];if(r.className.toLowerCase().search("ll")>-1&&!r.href){var o=r.getAttribute("orig");if(o){var s=T.decode(o).replace(/^j[\W]*a[\W]*v[\W]*a[\W]*s[\W]*c[\W]*r[\W]*i[\W]*p[\W]*t[\W]*:|^f[\W]*i[\W]*l[\W]*e[\W]*:/gi,"");s.search(/^page/)>-1?r.onclick=t(s):(s.search(/^mailto:/)>=0||s.search(/^(http|ftp)/)<0&&(s="http://"+s),r.target="_blank",N(r,s),r.rel="nofollow")}}}},h(g,["vertical","horizontal","either","resize"]),g.prototype._makeViewRect=function(){var e=this.container,t=document.documentElement,n=e.scrollTop||e.scrollY||e.pageYOffset||t.scrollTop,i=e.scrollLeft||e.scrollX||e.pageXOffset||t.scrollLeft,r=e.clientWidth||e.innerWidth||t.clientWidth,o=e.clientHeight||e.innerHeight||t.clientHeight,s=i+r,a=n+o,c={top:n,left:i,right:s,bottom:a,width:r,height:o};if(this.container!=window){var l=this.container.getBoundingClientRect&&this.container.getBoundingClientRect();l&&(c.offsetX=l.left,c.offsetY=l.top)}return c},g.prototype._updateViewRect=function(){var e=this.viewRect;this.viewRect=this._makeViewRect();var t=!e||e.left!=this.viewRect.left||e.width!=this.viewRect.width,n=!e||e.top!=this.viewRect.top||e.height!=this.viewRect.height;return{xChanged:t,yChanged:n}},g.prototype._eventHandler=function(e){var t=this._updateViewRect();"resize"!=e&&"both"!=e||!t.xChanged&&!t.yChanged||this.fireEvent("resize",this.viewRect),(t.xChanged||t.yChanged)&&this.fireEvent("either",this.viewRect),t.xChanged&&this.fireEvent("horizontal",this.viewRect),t.yChanged&&this.fireEvent("vertical",this.viewRect)},g.prototype.enable=function(){if(this.enabled)throw"ViewportManager has already been enabled";if(this.enabled=!0,this.container=x.scrollParent||window,this._eventHandler("both"),window.addEventListener){this.container.addEventListener("resize",this._resizeCallback,!1);var e=x.scrollParent?this.container:window.document;e.addEventListener("scroll",this._scrollCallback,!1)}else window.attachEvent&&(this.container.attachEvent("onresize",this._resizeCallback),this.container.attachEvent("onscroll",this._scrollCallback))},g.prototype.disable=function(){if(!this.enabled)throw"ViewportManager has already been disabled";this.enabled=!1,this.container.removeEventListener?(window.removeEventListener("resize",this._resizeCallback,!1),this.container.removeEventListener("scroll",this._scrollCallback,!1)):window.detatchEvent&&(window.detatchEvent("onresize",this._resizeCallback),this.container.detatchEvent("onscroll",this._scrollCallback))},v.prototype.name=function(){return this._name},v.prototype.register=function(e,t){if(this.registered)throw"This ViewManager is already registered";this.registered=!0,this.documentManager=e,this.viewportManager=t,this._currentPageWidth=defaultViewWidth,this._currentZoomMultiplier=1,this._updatePageWidths();var n=this.documentManager.firstVisiblePage;this._register(e,t),n&&this.documentManager.gotoPage(n.pageNum,{}),e.view_manager_deferred&&e.view_manager_deferred.resolve(e)},v.prototype._zoomedPageWidth=function(){return this._currentPageWidth*this._currentZoomMultiplier},v.prototype._updatePageWidths=function(){this.documentManager.setPageWidths(this._zoomedPageWidth())},v.prototype.isTopPageInView=function(){return!0},v.prototype._register=function(){},v.prototype.unregister=function(){if(!this.registered)throw"This ViewManager is already unregistered";this.isFullscreen&&this.exitFullscreen(),this._checkBodyWidth(),this._unregister(),this.registered=!1,delete this.documentManager,delete this.viewportManager},v.prototype._unregister=function(){},v.prototype._pagingStep=function(){return 1},v.prototype.gotoPage=function(e,t){if(!this.registered)throw"ViewManager must be registerd to call gotoPage";this._gotoPage(e,t)},v.prototype._gotoPage=function(){},v.prototype._fireHideExtras=function(){this.documentManager._fireHideExtras(),this._extrasHidden=!0},v.prototype._fireShowExtras=function(){this.documentManager._fireShowExtras(),this._extrasHidden=!1},v.prototype.enterFullscreen=function(){if(this.isFullscreen)throw"Fullscreen is already set";this._checkBodyWidth(),this.viewportManager.addEvent("resize",this._fullscreenResizedCallback),this._fireHideExtras(),this.resetZoom(),this._enterFullscreen(),this._fullscreenResized(this.viewportManager.viewRect),this._currentPageWidth=this.viewportManager.viewRect.width,this.isFullscreen=!0;var e=this.documentManager.firstVisiblePage;e&&this.documentManager.gotoPage(e.pageNum,{}),this.documentManager._fireEnteredFullscreen()},v.prototype.exitFullscreen=function(){if(!this.isFullscreen)throw"Fullscreen is not set";this.viewportManager.removeEvent("resize",this._fullscreenResizedCallback),this._fireShowExtras(),this.resetZoom(),this._exitFullscreen(),this.isFullscreen=!1;var e=this.documentManager.firstVisiblePage;e&&this.documentManager.gotoPage(e.pageNum,{}),this.documentManager._fireExitedFullscreen()},v.prototype._viewBarWidth=function(){return this._extrasHidden?0:this.documentManager.options.extrasWidth},v.prototype._enterFullscreen=function(){},v.prototype._exitFullscreen=function(){},v.prototype._fullscreenResized=function(){},v.prototype._scrollWithZoom=function(e,t){window.scrollTo(0,e.top*t)},v.prototype.zoom=function(e){var t=this.viewportManager.viewRect;t&&(this._currentZoomMultiplier*=e,this._checkBodyWidth(),this._updatePageWidths(),this.documentManager.setIsScrolling(!0),this._scrollWithZoom(t,e),this._zoomed(),this.documentManager.setIsScrolling(!1),this.documentManager._fireZoomed(e))},v.prototype._zoomed=function(){},v.prototype.resetZoom=function(){this._currentZoomMultiplier=1,this._checkBodyWidth(),this._updatePageWidths(),this._zoomed()},v.prototype._checkBodyWidth=function(){if(!x.scrollParent&&0!=x.updateBodyWidth){var e=document.documentElement.clientWidth,t=this._zoomedPageWidth()+this._viewBarWidth()+10;globalHeader=document.getElementById("global_header"),t>e?(document.body.style.width=t+"px",globalHeader&&(globalHeader.style.width=e+"px")):(document.body.style.width="100%",globalHeader&&(globalHeader.style.width="100%"))}},y.prototype=new v,y.prototype._register=function(){this._prepareDisplay()},y.prototype._unregister=function(){for(var t in this.documentManager.pages)if(this.documentManager.pages.hasOwnProperty(t)){var n=this.documentManager.pages[t];e(n.containerElem).removeClass("book_view"),n.containerElem.style.display=""}},y.prototype._prepareDisplay=function(){for(var t in this.documentManager.pages)if(this.documentManager.pages.hasOwnProperty(t)){var n=this.documentManager.pages[t];e(n.containerElem).addClass("book_view"),n.containerElem.style.display="none",n.hide()}this.documentManager.setPageMissingModulesVisible(!1),this.documentManager.gotoPage(this.documentManager.currentPageNum()||1)},y.prototype._zoomed=function(){this.documentManager.pages[this.currentPageId]},y.prototype._updatePageWidths=function(){this.documentManager.setPageWidths(this._zoomedPageWidth()/2)},y.prototype._pagingStep=function(){return 2},y.prototype._showPage=function(e){var t=this.documentManager.pages[e];t&&(t.isVisible=!0,t.display(!0),t.containerElem.style.display="")},y.prototype._hidePage=function(e){var t=this.documentManager.pages[e];t&&(t.isVisible=!1,t.containerElem.style.display="none",t.hide())},y.prototype._gotoPage=function(e){e=parseInt(e,10),e%2==1&&(e-=1);var t=null,n=null;"number"==typeof this.currentPageId&&(this._hidePage(this.currentPageId),this._hidePage(this.currentPageId+1)),t=this.documentManager.pages[e],n=this.documentManager.pages[e+1],(t||n)&&(this.currentPageId=e,this.isFullscreen&&this._setPageBounds(this.viewportManager.viewRect),this._showPage(e),this._showPage(e+1),this.documentManager.visiblePagesChanged())},y.prototype._setWidth=function(e){this._currentPageWidth=e,this.documentManager.setPageWidths(e)},y.prototype._fullscreenResized=function(e){this._setWidth(e.width-o)},y.prototype._enterFullscreen=function(){this._previousPageWidth=this._currentPageWidth||defaultViewWidth,b(this.documentManager.pages[this.currentPageId].containerElem,300)},y.prototype._exitFullscreen=function(){this._setWidth(defaultViewWidth),this._checkBodyWidth()},w.prototype=new v,w.prototype._register=function(){this._prepareDisplay();var e=document.getElementById("scroll_preventer");e&&(e.style.overflow="hidden",e.style.height="100%")},w.prototype._unregister=function(){var e=document.getElementById("scroll_preventer");e&&(e.style.overflow="visible",e.style.height="auto")},w.prototype._prepareDisplay=function(){for(var e in this.documentManager.pages)if(this.documentManager.pages.hasOwnProperty(e)){var t=this.documentManager.pages[e];t.containerElem.style.display="none",t.hide()}this.documentManager.setPageMissingModulesVisible(!1),this.documentManager.gotoPage(this.documentManager.currentPageNum()||1)},w.prototype._setPageBounds=function(e){var t=this.documentManager.pages[this.currentPageId];t&&t.setBounds(e.width,e.height)},w.prototype._gotoPage=function(e){if(this.documentManager.pages.hasOwnProperty(e)){var t;this.currentPageId&&(t=this.documentManager.pages[this.currentPageId],t&&(t.isVisible=!1,t.containerElem.style.display="none",t.hide())),this.currentPageId=e,t=this.documentManager.pages[e],this.isFullscreen&&this._setPageBounds(this.viewportManager.viewRect),t.isVisible=!0,t.display(!0),t.containerElem.style.display="",t._updateBoundingRect(),this.documentManager.visiblePagesChanged()}},w.prototype._setWidth=function(e){this._currentPageWidth=e,this.documentManager.setPageWidths(e)},w.prototype._fullscreenResized=function(e){this._setPageBounds(e)},w.prototype._enterFullscreen=function(){this._previousPageWidth=this._currentPageWidth||defaultViewWidth,b(this.documentManager.pages[this.currentPageId].containerElem,300)},w.prototype._exitFullscreen=function(){this._setWidth(defaultViewWidth),this._checkBodyWidth()},k.prototype=new v,k.prototype._updateInViewport=function(e){var t=this.viewportManager.viewRect,n=e.boundingRect,i=e.isVisible;return e.isVisible=t&&n?n.left<t.right&&n.right>t.left&&n.top<t.bottom&&n.bottom>t.top:!1,this.adjacentVisiblePages=2,i!=e.isVisible},k.prototype.checkAndUpdateVisiblePages=function(){var e=!1;for(var t in this.pages)if(this.pages.hasOwnProperty(t)){var n=this.pages[t],i=this._updateInViewport(n);e=e||i}e?this.documentManager.visiblePagesChanged():this.documentManager.scheduleLogPageView(),this._updateDisplayOnPages()},k.prototype._updateDisplayOnPages=function(){if(this.documentManager.firstVisiblePage&&this.documentManager.lastVisiblePage){var e=this.documentManager.firstVisiblePage.pageNum-this.adjacentVisiblePages,t=this.documentManager.lastVisiblePage.pageNum+this.adjacentVisiblePages;for(var n in this.pages)if(this.pages.hasOwnProperty(n)){var i=this.pages[n];i&&(i.pageNum>=e&&i.pageNum<=t?i.display():(i.hide(),this.documentManager.fireEvent("pageHide",i)))}}},k.prototype._zoomed=function(){this.checkAndUpdateVisiblePages()},k.prototype._register=function(e){this.pages=e.pages,this.viewportManager.addEvent("vertical",this._verticalPositionChangeCallback);for(var t in this.pages)if(this.pages.hasOwnProperty(t)){var n=this.documentManager.pages[t];n.containerElem.style.display=""}this.documentManager.setPageMissingModulesVisible(!0),this.documentManager._updatePageBoundingRects(),this.checkAndUpdateVisiblePages()},k.prototype.isTopPageInView=function(){var e=this.documentManager.firstVisiblePage;return e?this.documentManager._expectedFirstPageNum>e.pageNum?!0:e.boundingRect.top+5>=this.viewportManager.viewRect.top:!0},k.prototype._unregister=function(){this.viewportManager.removeEvent("vertical",this._verticalPositionChangeCallback),delete this.pages},k.prototype._gotoPage=function(e,t){if(t=t||{},this.pages.hasOwnProperty(e)){var n=this.documentManager.pages[e];this.documentManager.setIsScrolling(!0);var i=this.documentManager.viewportManager.container;return n._updateBoundingRect(),i==window?scrollTo(n.boundingRect.left,n.boundingRect.top-(t.offset||0)):i.scrollTop=n.boundingRect.top-(t.offset||0),this.documentManager.setIsScrolling(!1),this.documentManager.isScrolling||this.documentManager.visiblePagesChanged(),n.pageNum}},k.prototype._gotoNextPage=function(){this.documentManager.firstVisiblePage&&this.documentManager.gotoPage(this.documentManager.firstVisiblePage.pageNum+1,{direction:1})},k.prototype._gotoPreviousPage=function(){this.documentManager.firstVisiblePage&&this.documentManager.gotoPage(this.documentManager.firstVisiblePage.pageNum-1,{direction:-1})},k.prototype._setWidth=function(e){var t=this.pagePosition();this._currentPageWidth=e,this._updatePageWidths(),this._checkBodyWidth(),this.restorePosition(t)},k.prototype._fullscreenResized=function(){this._setWidth((window.innerWidth||document.documentElement.clientWidth)-o)},k.prototype._enterFullscreen=function(){this._previousPageWidth=this._currentWidth||defaultViewWidth},k.prototype._exitFullscreen=function(){this._setWidth(this._previousPageWidth)},k.prototype.pagePosition=function(){var t=e(this.viewportManager.container);if(t.is(window)){var n=this.documentManager.currentPageNum()||1,i=e("#outer_page_"+n),r=0;return i.length&&(r=(e(window).scrollTop()-i.offset().top)/i.height()),[n,r]}var o=this.documentManager.pages[this.documentManager.currentPageNum()||1],s=t.scrollTop(),a=t.scrollLeft(),c=(s-o.boundingRect.top)/o.boundingRect.height,l=(a-o.boundingRect.left)/o.boundingRect.width;return[o.pageNum,c,l]},k.prototype.restorePosition=function(t){if(!this._disableRestorePosition){var n=e(this.pages[t[0]].containerElem);if(this._gotoPage(t[0],{offset:-Math.floor(t[1]*n.height())}),null!=t[2]){var i=e(this.viewportManager.container);if(!e(i).is(window)){var r=t[2];r=Math.floor(r*n.width());var o=n.width()-i.width();i[0].scrollLeft=Math.min(o,r)}}}},k.prototype.zoom=function(e){var t=this.viewportManager.viewRect;if(t){var n=this.pagePosition();this._currentZoomMultiplier*=e,this._checkBodyWidth(),this._updatePageWidths(),this.restorePosition(n),this._zoomed(),this.documentManager._fireZoomed(e)}},h(x,["expectedFirstPageChanged","viewmodeChanged","enteredFullscreen","exitedFullscreen","hideExtras","showExtras","zoomed","pageHide","pageLoaded","allPagesAdded","pageView","visiblePagesChanged","viewmodeInitialized"]),x.prototype.disableRestorePosition=function(){this.viewManagers.scroll._disableRestorePosition=!0},x.prototype._fireZoomed=function(e){this.fireEvent("zoomed",e)},x.prototype.nextFontAggregatorHost=function(){return this._currentFontAggregatorHostIdx=(this._currentFontAggregatorHostIdx+1)%this.fontAggregatorHosts.length,this.fontAggregatorHosts[this._currentFontAggregatorHostIdx]},x.prototype._fireHideExtras=function(){this.fireEvent("hideExtras")},x.prototype._fireShowExtras=function(){this.fireEvent("showExtras")},x.prototype.currentPageNum=function(){return this._expectedFirstPageNum},x.prototype.setupTestElements=function(){this._fontLoader.setupTestElements()},x.prototype.pageCount=function(){if(this.hasOwnProperty("_pageCount"))return this._pageCount;
var e=0;for(var t in this.pages)this.pages.hasOwnProperty(t)&&e++;return this._pageCount=e,this._pageCount},x.prototype.setupPaidDocument=function(e,t){this.allowedPages=e,this.originalPageCount=t,this._allowedPagesHash=[],this._maximumAllowedPage=Math.max.apply(null,this.allowedPages),this._minimumAllowedPage=Math.min.apply(null,this.allowedPages),this._isPaidDocument=!0,this._pageMissingElements=[];for(var n=0;n<e.length;n++)this._allowedPagesHash[e[n]]=!0,(n>0&&e[n]>e[n-1]+1||0===n&&1!=e[n])&&this._pageMissingElements.push("page_missing_explanation_"+e[n].toString());this._maximumAllowedPage!=this.originalPageCount&&this._pageMissingElements.push("page_missing_explanation_"+(this.originalPageCount+1).toString())},x.prototype.minimumPageNumber=function(){return"book"==this.viewMode()?0:1},x.prototype.maximumPageNumber=function(){return this.allowedPages?this.originalPageCount:this.pageCount()},x.prototype.getClosestPageNumber=function(e,t){if(!this.allowedPages)return e;if(this._allowedPagesHash[e])return e;if(e>=this._maximumAllowedPage)return this._maximumAllowedPage;if(e<=this._minimumAllowedPage)return this._minimumAllowedPage;for(var n=1;n<=this.originalPageCount;n++){if(0>=t&&this._allowedPagesHash[e-n]===!0)return e-n;if(t>=0&&e+n<this.originalPageCount&&this._allowedPagesHash[e+n]===!0)return e+n}},x.prototype.setPageMissingModulesVisible=function(t){if("undefined"==typeof e&&"undefined"!=typeof scribd&&x.setJQuery(scribd.jQuery),this._isPaidDocument)for(var n=0;n<this._pageMissingElements.length;n++){var i=e(this._pageMissingElements[n]);i&&(t?i.show():i.hide())}},x.prototype.getNextAvailablePage=function(e){return getClosestPageNumber(e,1)},x.prototype.getPreviousAvailablePage=function(e){return getClosestPageNumber(e,-1)},x.prototype.flushFontQueue=function(){this._fontLoader.flushFontQueue()},x.prototype.visiblePagesChanged=function(){var e=[];for(var t in this.pages)if(this.pages.hasOwnProperty(t)){var n=this.pages[t];n.isVisible&&e.push(n)}if(e.length){e.sort(function(e,t){return e.pageNum<t.pageNum?-1:1}),this.fireEvent("visiblePagesChanged",e),this.visiblePages=e;var i=this.firstVisiblePage;this.firstVisiblePage=e.length>0?e[0]:null,this.lastVisiblePage=e.length>0?e[e.length-1]:null,this.isScrolling||(this._loadAdjacentFonts(),this._loadAdjacentPages()),(this.firstVisiblePage===i||this.firstVisiblePage&&i)&&this.firstVisiblePage.pageNum==i.pageNum||!this.isScrolling&&this.firstVisiblePage&&this._updateExpectedFirstPage(this.firstVisiblePage.pageNum),this.scheduleLogPageView()}},x.prototype.boundingRatioForPage=function(e){var t=this.viewportManager.viewRect,n=e.boundingRect,i=n.bottom-n.top,r=n.right-n.left;return{left:(t.left-n.left)/r,right:(t.right-n.right)/r+1,top:S((t.top-n.top)/i+e.pageNum,e.pageNum,e.pageNum+1),bottom:S((t.bottom-n.bottom)/i+e.pageNum+1,e.pageNum,e.pageNum+1)}},x.prototype.scheduleLogPageView=function(){this.logPageViewTimout&&window.clearTimeout(this.logPageViewTimout);var e=this;this.logPageViewTimout=window.setTimeout(function(){e.logPageView(),e.logPageViewTimout=null},1e3)},x.prototype.getVisibleBBox=function(){var e={};if(this.firstVisiblePage){var t=this.boundingRatioForPage(this.firstVisiblePage);e.left=t.left,e.right=t.right,e.top=t.top}if(this.lastVisiblePage){var n=this.boundingRatioForPage(this.lastVisiblePage);e.bottom=n.bottom}return e},x.prototype.logPageView=function(){var e=this.getVisibleBBox();for(var t in e)e.hasOwnProperty(t)&&(e[t]=C(e[t]));var n=window.$rat;if(n){var i;i="2"==window.RAT_API_VERSION?[[e.left,e.top],[e.right,e.bottom]]:"("+e.left+" "+e.top+") ("+e.right+" "+e.bottom+")",n("fourgen.viewchange",i)}return this.fireEvent("pageView"),e},x.prototype._updateExpectedFirstPage=function(e){this._expectedFirstPageNum=e,this.fireEvent("expectedFirstPageChanged",this._expectedFirstPageNum)},x.prototype._loadAdjacentFonts=function(){if(this.firstVisiblePage&&this.lastVisiblePage)for(var e=this.firstVisiblePage.pageNum-i,t=this.lastVisiblePage.pageNum+i,n=e;t>=n;n++){var r=this.pages[n];r&&r.loadFonts()}},x.prototype._loadAdjacentPages=function(){if(this.firstVisiblePage&&this.lastVisiblePage){for(var e=this.firstVisiblePage.pageNum-n,t=this.lastVisiblePage.pageNum+n,i=e;t>=i;i++){var r=this.pages[i];r&&!r.loadHasStarted&&(r.load(),this.mobile&&r.setWidth(this._pageWidths))}this.mobile&&this._removeUnusedPages()}},x.prototype._removeUnusedPages=function(){for(var e=this.firstVisiblePage.pageNum-n,t=this.lastVisiblePage.pageNum+n,i=this.pages,r=n+1;i[r];)(e>r||r>t)&&i[r].remove(),r++},x.prototype._updatePageBoundingRects=function(){for(var e in this.pages)this.pages.hasOwnProperty(e)&&this.pages[e]._updateBoundingRect()},x.prototype.removeInsteadOfBlurring=function(){return x.disablePageBlur?!0:"undefined"==typeof Scribd||"undefined"==typeof e?!0:!1},x.prototype.addPage=function(e){if(!e.blur||!this.removeInsteadOfBlurring()){if(void 0===e.pageNum)throw"must have pageNum param";e.docManager=this;var t=new m(e);return this.pages[e.pageNum]=t,this._pageWidths&&t.setWidth(this._pageWidths),this.currentFontGroup.isFull()&&(this.currentFontGroup=this.currentFontGroup.newNextGroup()),t.setLoadFontGroup(this.currentFontGroup),t}e.containerElem.parentNode.removeChild(e.containerElem)},x.prototype.setIsScrolling=function(e){e?this._scrollingCount+=1:this._scrollingCount-=1,this._scrollingCount<0&&(this._scrollingCount=0),this.isScrolling=0===this._scrollingCount?!1:!0},x.prototype.setViewManager=function(e,t){if(this._currentViewManager)this._setViewManager(e),"function"==typeof t&&t();else{var n=this;this.addEvent("viewmodeInitialized",function(){n.setViewManager(e,t)})}},x.prototype._setViewManager=function(e,t){t||this._currentViewManager.unregister();var n=this._currentViewManager;this._currentViewManager=this.viewManagers[e],this._currentViewManager.register(this,this.viewportManager),this.fireEvent("viewmodeChanged",this.viewMode(),n?n.name():null)},x.prototype.setInitialViewManager=function(e){if(this._currentViewManager)throw"This should be called before any view manager exists";this._setViewManager(e,!0),this.fireEvent("viewmodeInitialized",this.viewMode(),null)},x.prototype.setDefaultWidth=function(e){this._currentViewManager._currentPageWidth=e,this._currentViewManager._currentZoomMultiplier=1,this._currentViewManager._updatePageWidths()},x.prototype.subImageSrc=function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t);var i=this._imageDomainSubstitutionList[n%this._imageDomainSubstitutionList.length];return e.replace(this._imageDomainSubstitutionFrom,i)},x.prototype.allPagesAdded=function(){if(this._allPagesAddedCalled)throw"can only call allPagesAdded once";this.viewportManager.enable(),this._updatePageBoundingRects(),this.setInitialViewManager(this.defaultViewMode),this.fireEvent("allPagesAdded")},x.prototype.setEmbeddedDoc=function(e){this._isEmbed="True"===e},x.prototype.setPageWidths=function(e){this._pageWidths=e;for(var t in this.pages)this.pages.hasOwnProperty(t)&&this.pages[t].setWidth(this._pageWidths);this._updatePageBoundingRects()},x.prototype.addFont=function(e,t,n,i,r,o){this._fontLoader.addFont(e,t,n,i,r,o)},x.prototype.setNumFonts=function(e){this._fontLoader.setNumFonts(e)},x.prototype.initStyles=function(){this._fontLoader.initStyles()},x.prototype.gotoPage=function(e,t){var n=!M(e),i=null;if(n&&(i=+(e%1).toFixed(2),e=Math.floor(e)),!(e<this.minimumPageNumber()||e>this.maximumPageNumber())){t||(t={}),n&&void 0==t.frac&&(t.frac=i);var r=t.direction||0,o=this.pages[e];void 0===o&&this._isPaidDocument&&(e=this.getClosestPageNumber(e,r),o=this.pages[e]),this.mobile&&this.pages[e]&&this.pages[e].setWidth(this._pageWidths),this._updateExpectedFirstPage(e),this._currentViewManager.gotoPage(this._expectedFirstPageNum,t)}},x.prototype.gotoPreviousPage=function(){var e=this._currentViewManager._pagingStep();this._currentViewManager.isTopPageInView()?this.gotoPage(this._expectedFirstPageNum-e,{direction:-1}):this.gotoPage(this._expectedFirstPageNum,{direction:-1})},x.prototype.gotoNextPage=function(){var e=this._currentViewManager._pagingStep();this.gotoPage(this._expectedFirstPageNum+e,{direction:1})},x.prototype.enterFullscreen=function(){this._currentViewManager.enterFullscreen()},x.prototype.exitFullscreen=function(){this._currentViewManager.exitFullscreen()},x.prototype.isFullscreen=function(){return this._currentViewManager.isFullscreen},x.prototype._fireEnteredFullscreen=function(){this.fireEvent("enteredFullscreen")},x.prototype._fireExitedFullscreen=function(){this.fireEvent("exitedFullscreen")},x.prototype.viewMode=function(){return this._currentViewManager?this._currentViewManager.name():null},x.prototype.zoom=function(e){this._currentViewManager.zoom(e)},x.prototype.resetZoom=function(){this._currentViewManager.resetZoom()},x.prototype.setImageDomainSubstitution=function(e,t){this._imageDomainSubstitutionFrom=e,this._imageDomainSubstitutionList=t},x.prototype.disableViewManagerResizeWidth=function(){v.prototype._checkBodyWidth=function(){}},x.prototype.disable=function(){this.disabled||(this.disabled=!0,this.viewportManager.disable())},x.prototype.doDynamicBlurring=function(t){var n,i,r;this.removeInsteadOfBlurring()||(n=e("#"+t),n.on("dragstart, selectstart, contextmenu",function(e){e.preventDefault()}),n.find("*").andSelf().attr("unselectable","on"),r=Modernizr&&Modernizr.textshadow&&e.browser&&(e.browser.webkit&&!e.browser.safari||e.browser.mozilla||e.browser.opera)&&!(e.browser.mozilla===!0&&parseFloat(e.browser.version)<4&&parseFloat(e.browser.version)>=3),e.browser||console.log("Hi there, it seems as though you've upgraded jQuery and browser detection is no longer working in 4gen.js"),e(document).ready(function(){i=e(e("#page_blur_promo_template").html()).removeAttr("id").appendTo("#"+t).css("zIndex",8).show(),i.find(".page_blur_promo_title").html(I18n.t("pdfs.show.you_re_reading_a_preview")),i.find(".missing_page_buy_button").html(I18n.t("pdfs.show.download_with_free_trial")),not_shown_text=I18n.t("pdfs.show.unlock_full_access"),i.find(".gap").html(not_shown_text),r||i.find(".page-blur-promo-overlay").height("100%").width("100%").css("zIndex",7).show()}),r&&(n.find(".text_layer").css({color:"transparent","text-shadow":"0px 0px 70px black"}),n.find(".text_layer [style]").css({color:"transparent"}),n.find(".image_layer").imagesLoaded(function(){n.find(".image_layer img").each(function(){this.height>250&&this.width>250&&e(this).css({opacity:.04})})}),n.find(".image_layer").length&&e(".page_blur_promo_overlay").remove()))},x.setJQuery=function(t){e=t},x.ScrollViewManager=k,x.SlideViewManager=w,x.BookViewManager=y,x}();window.DocumentManager=d},void 0===window.DocumentManager&&init_4gen();


/* public/javascripts/storage.js @ 1506640302 */
window.localStorage&&window.sessionStorage||function(){var e=function(e){function t(e,t,n){var i,r;n?(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toGMTString()):r="",document.cookie=e+"="+t+r+"; path=/"}function n(e){var t,n,i=e+"=",r=document.cookie.split(";");for(t=0;t<r.length;t++){for(n=r[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(i))return n.substring(i.length,n.length)}return null}function i(n){n=JSON.stringify(n),"session"==e?window.name=n:t("localStorage",n,365)}function r(){"session"==e?window.name="":t("localStorage","",365)}function o(){var t="session"==e?window.name:n("localStorage");return t?JSON.parse(t):{}}function s(){var e=0;for(var t in a)a.hasOwnProperty(t)&&(e+=1);return e}var a=o();return{clear:function(){a={},r(),this.length=s()},getItem:function(e){return e=encodeURIComponent(e),void 0===a[e]?null:a[e]},key:function(e){var t=0;for(var n in a){if(t==e)return decodeURIComponent(n);t++}return null},removeItem:function(e){e=encodeURIComponent(e),delete a[e],i(a),this.length=s()},setItem:function(e,t){e=encodeURIComponent(e),a[e]=String(t),i(a),this.length=s()},length:0}};window.localStorage||(window.localStorage=new e("local")),window.sessionStorage||(window.sessionStorage=new e("session"))}();


/* public/javascripts/modernizr.custom.12353.js @ 1506640302 */
window.Modernizr=function(e,t,n){function i(e){v.cssText=e}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!o(r,"-")&&v[r]!==n)return"pfx"==t?r:!0}return!1}function a(e,t,i){for(var o in e){var s=t[e[o]];if(s!==n)return i===!1?e[o]:r(s,"function")?s.bind(i||t):s}return!1}function c(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+w.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?s(o,t):(o=(e+" "+k.join(i+" ")+i).split(" "),a(o,t,n))}var l,u,d,h="2.8.2",p={},f=!0,_=t.documentElement,m="modernizr",g=t.createElement(m),v=g.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",w=y.split(" "),k=y.toLowerCase().split(" "),x={},S=[],C=S.slice,T=function(e,n,i,r){var o,s,a,c,l=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)a=t.createElement("div"),a.id=r?r[i]:m+(i+1),l.appendChild(a);return o=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),l.id=m,(u?l:d).innerHTML+=o,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=_.style.overflow,_.style.overflow="hidden",_.appendChild(d)),s=n(l,e),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),_.style.overflow=c),!!s},E={}.hasOwnProperty;d=r(E,"undefined")||r(E.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,n.concat(C.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(C.call(arguments)))};return i}),x.textshadow=function(){return""===t.createElement("div").style.textShadow},x.csstransforms=function(){return!!c("transform")},x.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in _.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e};for(var D in x)d(x,D)&&(u=D.toLowerCase(),p[u]=x[D](),S.push((p[u]?"":"no-")+u));return p.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(_.className+=" "+(t?"":"no-")+e),p[e]=t}return p},i(""),g=l=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[_]];return t||(t={},m++,e[_]=m,g[m]=t),t}function o(e,n,i){if(n||(n=t),u)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||p.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function s(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),s=0,a=i(),c=a.length;c>s;s++)o.createElement(a[s]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function c(e){e||(e=t);var i=r(e);return v.shivCSS&&!l&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||a(e,i),e}var l,u,d="3.7.0",h=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,_="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,u=!0}}();var v={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:h.shivCSS!==!1,supportsUnknownElements:u,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:s};e.html5=v,c(t)}(this,t),p._version=h,p._prefixes=b,p._domPrefixes=k,p._cssomPrefixes=w,p.testProp=function(e){return s([e])},p.testAllProps=c,p.testStyles=T,p.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},_.className=_.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+S.join(" "):""),p}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==m.call(e)}function r(e){return"string"==typeof e}function o(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=g.shift();v=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):v=0}function c(e,n,i,r,o,c,l){function u(t){if(!p&&s(d.readyState)&&(b.r=p=1,!v&&a(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&f(function(){w.removeChild(d)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var l=l||h.errorTimeout,d=t.createElement(e),p=0,m=0,b={t:i,s:n,e:o,a:c,x:l};1===T[n]&&(m=1,T[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,m)},g.splice(r,0,b),"img"!=e&&(m||2===T[n]?(w.insertBefore(d,y?null:_),f(u,l)):T[n].push(d))}function l(e,t,n,i,o){return v=0,t=t||"j",r(e)?c("c"==t?x:k,e,t,this.i++,n,i,o):(g.splice(this.i++,0,e),1==g.length&&a()),this}function u(){var e=h;return e.loader={load:l,i:0},e}var d,h,p=t.documentElement,f=e.setTimeout,_=t.getElementsByTagName("script")[0],m={}.toString,g=[],v=0,b="MozAppearance"in p.style,y=b&&!!t.createRange().compareNode,w=y?p:_.parentNode,p=e.opera&&"[object Opera]"==m.call(e.opera),p=!!t.attachEvent&&!p,k=b?"object":p?"script":"img",x=p?"script":k,S=Array.isArray||function(e){return"[object Array]"==m.call(e)},C=[],T={},E={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,n,i,e=e.split("!"),r=C.length,o=e.pop(),s=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;s>n;n++)i=e[n].split("="),(t=E[i.shift()])&&(o=t(o,i));for(n=0;r>n;n++)o=C[n](o);return o}function s(e,r,o,s,a){var c=t(e),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(r&&(r=i(r)?r:r[e]||r[s]||r[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,r,o,s,a):(T[c.url]?c.noexec=!0:T[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(r)||i(l))&&o.load(function(){u(),r&&r(c.origUrl,a,s),l&&l(c.origUrl,a,s),T[c.url]=2})))}function a(e,t){function n(e,n){if(e){if(r(e))n||(d=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}),s(e,d,t,0,l);else if(Object(e)===e)for(c in a=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--a&&(i(d)?d=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}:d[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(h[c])),s(e[c],d,t,c,l))}else!n&&p()}var a,c,l=!!e.test,u=e.load||e.both,d=e.callback||o,h=d,p=e.complete||o;n(l?e.yep:e.nope,!!u),u&&n(u)}var c,l,d=this.yepnope.loader;if(r(e))s(e,0,d,0);else if(S(e))for(c=0;c<e.length;c++)l=e[c],r(l)?s(l,0,d,0):S(l)?h(l):Object(l)===l&&a(l,d);else Object(e)===e&&a(e,d)},h.addPrefix=function(e,t){E[e]=t},h.addFilter=function(e){C.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,n,i,r,c,l){var u,d,p=t.createElement("script"),r=r||h.errorTimeout;p.src=e;for(d in i)p.setAttribute(d,i[d]);n=l?a:n||o,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,n(1))},r),c?p.onload():_.parentNode.insertBefore(p,_)},e.yepnope.injectCss=function(e,n,i,r,s,c){var l,r=t.createElement("link"),n=c?a:n||o;r.href=e,r.rel="stylesheet",r.type="text/css";for(l in i)r.setAttribute(l,i[l]);s||(_.parentNode.insertBefore(r,_),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};


/* public/javascripts/imagesloaded.pkgd.js @ 1506640302 */
!function(e){"use strict";function t(){}function n(e,t){if(r)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,r=Array.prototype.indexOf?!0:!1;i._getEvents=function(){return this._events||(this._events={})},i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,t){var i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1===n(t,r[i])&&r[i].push(t);return this},i.on=i.addListener,i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=n(t,o[r]),-1!==i&&o[r].splice(i,1));return this},i.off=i.removeListener,i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.emitEvent=function(e,t){var n,i,r,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(n=o[i].length;n--;)r=t?o[i][n].apply(null,t):o[i][n](),r===!0&&this.removeListener(e,o[i][n]);return this},i.trigger=i.emitEvent,i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,i){t[n+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define(r):e.eventie=r}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===c.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,n){function r(e,n,s){if(!(this instanceof r))return new r(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?s=n:t(this.options,n),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var a=this;setTimeout(function(){a.check()})}function c(e){this.img=e}r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},r.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},r.prototype.check=function(){function e(e,r){return t.options.debug&&a&&s.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e),this.jqDeferred&&this.jqDeferred.notify(this,e)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o&&(o.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(o(this))});var l={};return c.prototype=new e,c.prototype.check=function(){var e=l[this.img.src];if(e)return void this.useCached(e);if(l[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},c.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},c.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},r}var o=e.jQuery,s=e.console,a="undefined"!=typeof s,c=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter","eventie"],r):e.imagesLoaded=r(e.EventEmitter,e.eventie)}(window);


/* public/javascripts/ouibounce.js @ 1506640302 */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.ouibounce=t()}(this,function(){return function(e,t){"use strict";function n(e,t){return"undefined"==typeof e?t:e}function i(e){var t=24*e*60*60*1e3,n=new Date;return n.setTime(n.getTime()+t),"; expires="+n.toUTCString()}function r(){u()||(S.addEventListener("mouseleave",o),S.addEventListener("mouseenter",s),S.addEventListener("keydown",a))}function o(e){e.clientY>_||(x=setTimeout(d,g))}function s(){x&&(clearTimeout(x),x=null)}function a(e){C||e.metaKey&&76===e.keyCode&&(C=!0,x=setTimeout(d,g))}function c(e,t){return l()[e]===t}function l(){for(var e=document.cookie.split("; "),t={},n=e.length-1;n>=0;n--){var i=e[n].split("=");t[i[0]]=i[1]}return t}function u(){return c(w,"true")&&!f}function d(){u()||(e&&(e.style.display="block"),v(),h())}function h(e){var t=e||{};"undefined"!=typeof t.cookieExpire&&(b=i(t.cookieExpire)),t.sitewide===!0&&(k=";path=/"),"undefined"!=typeof t.cookieDomain&&(y=";domain="+t.cookieDomain),"undefined"!=typeof t.cookieName&&(w=t.cookieName),document.cookie=w+"=true"+b+y+k,S.removeEventListener("mouseleave",o),S.removeEventListener("mouseenter",s),S.removeEventListener("keydown",a)}var p=t||{},f=p.aggressive||!1,_=n(p.sensitivity,20),m=n(p.timer,1e3),g=n(p.delay,0),v=p.callback||function(){},b=i(p.cookieExpire)||"",y=p.cookieDomain?";domain="+p.cookieDomain:"",w=p.cookieName?p.cookieName:"viewedOuibounceModal",k=p.sitewide===!0?";path=/":"",x=null,S=document.documentElement;setTimeout(r,m);var C=!1;return{fire:d,disable:h,isDisabled:u}}});


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1506640175 */


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ 1506640175 */
/* app/views/shared/recommendation_tracking.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice;Scribd.RecommendationTracking=function(){function n(){throw"Scribd.RecommendationTracking is not instantiatable"}return n._page_count=0,n._compilation_ids={},n._seen_rv_events={},n.Module=function(){function n(t,n){this.opts=null!=n?n:{},this.ready=e(this.ready,this),this.container=$(t),this.container.on("scribd:enclosing_tracking_module",function(e){return function(t,n){return n(e)}}(this)),this.with_tracking=$.Deferred(function(e){return function(t){return t.done(function(t){var n;return e.tracking=t,"function"==typeof(n=e.opts).on_tracking?n.on_tracking(e.tracking):void 0})}}(this)),this.opts.compilation_id?Scribd.RecommendationTracking.page_view_deferred(this.opts.compilation_id).done(function(e){return function(t){return e.ready(t,e.opts.widget_name)}}(this)):this.container.on("scribd:setup_tracking",function(e){return function(t,n,i){return e.ready(n,i)}}(this))}return n.prototype.setup_inview_tracking=function(){return null==this.tracking?"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0:(this.container.one("inview",function(e){return function(){var t;return Scribd.RecommendationTracking.track_module_view(e.tracking.view_id,e.tracking.module_id,e.tracking.widget_name),null!=(t=e.opts.on_in_view)?t.call(e,e.tracking):void 0}}(this)),Scribd.RecommendationTracking.trigger_inview_check())},n.prototype.setup_click_tracking=function(e){var t,n,i,r,o,s,a;if(null==e&&(e=this.container.find("[data-track_uuid]")),null==this.tracking)return"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0;for(this.container.data("track_uuid")&&(e=e.add(this.container)),s=[],i=0,r=e.length;r>i;i++)t=e[i],t=$(t),n=t.data("track_rats")||"rc",o="mc"===n?"mi":"ri",a={vi:this.tracking.view_id},a[o]=t.data("track_uuid"),t.attr("data-track_rats",n),s.push(t.attr("data-track_rats_value",JSON.stringify(a)));return s},n.prototype.ready=function(e,t){var n;return(n=this.opts.module_id||this.container.data("track_uuid"))?(this.with_tracking.resolve({widget_name:t,view_id:e,module_id:n}),this.setup_inview_tracking(),this.setup_click_tracking()):void 0},n.prototype.track_module_click=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.with_tracking.done(function(){return function(n){var i;return(i=Scribd.RecommendationTracking).track_module_click.apply(i,[n.view_id,n.module_id].concat(t.call(e)))}}(this))},n}(),n.page_view_deferred=function(e){var t;return e?(n._view_id_deferred||(n._view_id_deferred={}),t=n._view_id_deferred[e],t||(t=$.Deferred(),n._view_id_deferred[e]=t,Scribd.RecommendationTracking.track_page_view(e,function(e){return t.resolve(e)})),t):(console.debug("attempted page view without compilation id"),$.Deferred())},n.track_page_view=function(e,t){var n;return n=this._compilation_ids[e],null==n&&(n=this._compilation_ids[e]=this._page_count++),$rat.root().withVid(function(){return function(i){return i=i+"."+n,$rat("pv",{vi:i,ci:e}),"function"==typeof t?t(i):void 0}}(this))},n.track_module_view=function(e,t,n){var i;return i={vi:e,mi:t},null!=n&&(i.w=n),$rat("mv",i)},n.track_module_click=function(e,t,n){var i;return i={vi:e,mi:t},null!=n&&(i.t=n),$rat("mc",i)},n.track_obj_view=function(e,t){var n;return n=e+"#"+t,this._seen_rv_events[n]?void 0:(this._seen_rv_events[n]=!0,$rat("rv",{vi:e,ri:t}))},n.track_obj_click=function(e,t){return $rat("rc",{vi:e,ri:t})},n.trigger_inview_check=function(){return this.trigger_inview_check=_.debounce(function(){return $.event.special.inview.run()},0),this.trigger_inview_check()},n}()}).call(this);


/* app/views/pdfs/highlighter.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.PdfHighlighter=function(){function t(t){this.scroll_to_el=e(this.scroll_to_el,this),this.container=$(t),docManager.addEvent("pageLoaded",function(e){return function(t){var n,i;return n=parseInt(t.id.match(/\d+$/)[0],10),(null!=(i=e.pages_to_highlight)?i[n]:void 0)?(e.highlight_element(t,e.last_query),delete e.pages_to_highlight[n],e.selecting&&e.selecting.page===n?e.select_result(e.selecting.page,e.selecting.idx):void 0):void 0}}(this))}return t.prototype.highlight_class="fourgen_highlight",t.prototype.select_result=function(e,t){var n,i,r,o;return delete this.selecting,(i=null!=(r=docManager.pages[e])?r.innerPageElem:void 0)?(n=this.highlight_class+"_selected",null!=(o=this.selected)&&o.removeClass(n),this.selected=$(i).find("."+this.highlight_class+":eq("+t+")").addClass(n),docManager.gotoPage(e),_.defer(function(e){return function(){return null!=e.selected[0].scrollIntoView?e.scroll_to_el(e.selected):void 0}}(this))):(docManager.gotoPage(e),this.selecting={page:e,idx:t})},t.prototype.scroll_to_el=function(e){var t,n;return"function"==typeof(t=e[0]).scrollIntoView&&t.scrollIntoView(),n=this.container.find(".document_scroller")[0],n.scrollTop-=300},t.prototype.highlight_from_results=function(e,t){var n,i,r,o,s,a,c;for(this.last_query=e,this.last_results=t,this.pages_to_highlight={},s=_.uniq(function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)a=t[e],i.push(a.pageNum);return i}(),!0),c=[],n=0,i=s.length;i>n;n++)o=s[n],r=docManager.pages[o],c.push((null!=r?r.innerPageElem:void 0)?this.highlight_element(r.containerElem,e):this.pages_to_highlight[o]=!0);return c},t.prototype.clear=function(){var e,t,n,i,r,o;for(r=this.container.find("."+this.highlight_class),o=[],t=0,n=r.length;n>t;t++)e=r[t],i=e.parentNode,i.replaceChild(e.firstChild,e),o.push(i.normalize());return o},t.prototype.highlight_element=function(e,t){var n,i,r;return r=RegExp(Scribd.escape_regexp(t),"i"),i=0,n=function(e){return function(o){var s,a,c,l,u,d,h;if(d=0,3===o.nodeType)l=o.data.search(r),l>=0&&(h=$("<span>"),h.addClass(e.highlight_class),s=o.splitText(l),s.splitText(t.length),a=$(s).clone(),h.append(a),$(s).replaceWith(h),d=1,i++);else if(1===o.nodeType&&o.childNodes&&!/(script|style)/i.test(o.tagName))if((null!=(u=o.className)?u.indexOf(e.highlight_class):void 0)<0||null==o.className)for(c=0;c<o.childNodes.length;)c+=n(o.childNodes[c]),++c;else i++;return d}}(this),n(e),i},t}()}).call(this);


/* app/views/pdfs/_seo_shared.coffee @ 1506640175 */
(function(){Scribd.SeoShared=function(){function e(){}return e.quote_duration=5e3,e.display_interval=moment.duration(1,"days"),e.setup_assignment=function(){var e,t,n;if(null!=(n=document.location.search)?n.match(/\bseo_roadblock\b/):void 0)return!0;if(Scribd.eligible_for_seo_roadblock&&this.has_correct_referrer()&&(e=new CookieJar({path:"/",expires:this.display_interval.asSeconds()}),!e.get("seo_ld")||(t=moment(e.get("seo_ld")),moment().isAfter(t.add(this.display_interval)))))return e.put("seo_ld",moment()),!0},e.has_correct_referrer=function(){return"en_US"===I18n.locale?!0:document.referrer.match(/google|bing|yahoo/i)||window.location.hash.match(/\bscribd\b/)},e.banner_variation=function(){return{value_prop:Scribd.nway_test_choice_value("seo_banner_value_prop")||"default"}},e.seo_variation=function(){return"new_basic"},e}()}).call(this);


/* :class_inlines, 'app/views', ... @ 1506640175 */
/* app/views/shared/filtered_document_page.coffee @ 1506640175 */
(function(){Scribd.UI||(Scribd.UI={}),Scribd.UI.FilteredDocumentPage=function(){function e(e){var t;this.container=$(e),t=this.container.find(".filter_picker"),t.is(".open")&&this.container.find(".toggle_filters_btn").addClass("open"),this.container.on("click",".toggle_filters_btn",function(){return function(e){return $(e.currentTarget).toggleClass("open"),t.slideToggle("fast")}}(this)),this.container.find(".language_filter_picker").fancy_select(),this.container.on("change",".language_filter_picker",function(){return function(e){return window.location=$(e.currentTarget).val()}}(this))}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{shared:{filtered_document_page:{search:"Buscar\u2026",filters:"Filtros"}}}});


/* app/views/shared/app_download_promo/lightbox.coffee @ 1506640175 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.AppDownloadPromoLightbox=function(t){function n(e,t){this.opts=t,this.container=$(e),n.__super__.constructor.apply(this,arguments),this.opts.load_once&&this.setup_cookie_jar(),this.opts.open_on_load&&_.defer(function(e){return function(){return e.another_lightbox_is_open()?void 0:e.show()}}(this))}return e(n,t),n.prototype.setup_cookie_jar=function(){return this.jar=new CookieJar({expires:31536e4})},n.prototype.show=function(){var e,t;if(!this.opts.load_once||!this.jar.get(this.opts.cookie))return n.__super__.show.apply(this,arguments),e={page:this.opts.track_page},(null!=(t=Scribd.current_doc)?t.id:void 0)&&(e.doc_id=Scribd.current_doc.id),this.container.track_rats("download_app_promo:lightbox:view",e)},n.prototype.close=function(){var e,t;return this.opts.load_once&&this.jar.put(this.opts.cookie,1),e={item:"close lightbox",page:this.opts.track_page},(null!=(t=Scribd.current_doc)?t.id:void 0)&&(e.doc_id=Scribd.current_doc.id),n.__super__.close.apply(this,arguments),_.defer(function(t){return function(){return t.container.track_rats("download_app_promo:lightbox:click",e)}}(this))},n}(Scribd.StackedLightbox)}).call(this);


/* app/views/mobile/shared/_view_in_store_promo.coffee @ 1506640175 */
(function(){Scribd.ViewInStorePromo=function(){function e(e,t){this.opts=null!=t?t:{},this.container=$(e),this.default_opts(),this.setup_events()}return e.prototype.default_opts=function(){return this.opts=_.extend({platform:""},this.opts)},e.prototype.setup_events=function(){return this.container.dispatch("click",{view_in_store_link:function(e){return function(){return e.container.track_rats(e.opts.platform+":mobile","click","view_in_store_link"),"continue"}}(this),close:function(e){return function(){return e.container.trigger("scribd:close_banner"),e.container.remove(),"continue"}}(this)}),this.container.click(function(e){return function(t){return $(t.target).closest(".close").length>0||$(t.target).is(".view_in_store_link")?void 0:e.container.find(".view_in_store_link").click()}}(this))},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{mobile:{shared:{view_in_store_promo:{install:"Instalar",view:"Visualizar",read_books_audiobooks_and_more:"Lea libros, audio libros, y mucho m\xe1s",scribd_inc:"Scribd, Inc.",scribd:"Scribd",get_on_the_store_name_platform_store:"OBTENER, en la tienda de %{store_name_platform}"}}}}});


/* app/views/mobile/shared/_app_button.coffee @ 1506640175 */
(function(){var e;e=Scribd.init("Scribd","Mobile"),e.AppButton=function(){function e(e,t){this.container=e,this.opts=t,$(function(e){return function(){return e.container=$(e.container),e.container.dispatch("click",{app_btn:function(){return e.open_app(),"continue"}})}}(this))}return e.track_document_open=function(t,n){var i;return e.cookie||(e.cookie=new CookieJar({path:"/mobile",expires:604800})),i=e.cookie.get("roadblock_tracked"),i&&new Date-i<3e5?void 0:(e.cookie.put("roadblock_tracked",+new Date),$.post(t,{resolution:[screen.height,screen.width],timezone_offset:(new Date).getTimezoneOffset(),platform:navigator.platform,document_id:n}))},e.prototype.open_app=function(){var e;return e=this.opts.document_id&&this.opts.track_url?this.constructor.track_document_open(this.opts.track_url,this.opts.document_id):void 0,e||(e=$.when()),e.done(function(e){return function(){return navigator.userAgent.match(/android/i)?window.location.href=e.opts.app_url:navigator.userAgent.match(/Safari/i)?window.location.href=e.opts.store_url:void 0}}(this))},e}()}).call(this);


/* app/views/shared/reading_progress/base.coffee @ 1506640175 */
(function(){Scribd.ReadingProgress={external_progress_notice_seen:!1},Scribd.ReadingProgress.Base=function(){function e(e){var t,n,i,r;this.opts=null!=e?e:{},this.enabled()&&(this.notify_external_progress(null!=(t=Scribd.current_doc)?t.reading_progress:void 0),this.opts=_.extend(this.default_opts(),this.opts),this.get_ms=(null!=(n=Scribd.ServerOptions)?n.reading_progress_throttle_get_milliseconds:void 0)||this.opts.throttle_get,this.post_ms=(null!=(i=Scribd.ServerOptions)?i.reading_progress_throttle_post_milliseconds:void 0)||this.opts.throttle_post,this.url=null!=(r=Scribd.current_doc.reading_progress)?r.update_url:void 0,this.doc_id=Scribd.current_doc.id,this.offset=null,this.offset_type=null,this.percentage=null,this.throttled_get_handler=_.throttle(function(e){return function(){return e.get()}}(this),this.get_ms,{leading:!0,trailing:!1}),this.throttled_post_handler=_.throttle(function(e){return function(){return e.post()}}(this),this.post_ms,{leading:!1,trailing:!0}),$(window).off(this.events.focus).on(this.events.focus,this.throttled_get_handler))}return e.prototype.events={focus:"focus.reading_progress",scroll:"scroll.reading_progress"},e.prototype.default_opts=function(){return{throttle_get:6e4,throttle_post:1e4}},e.prototype.enabled=function(){var e;return(null!=(e=Scribd.ServerOptions)?e.reading_progress_enabled:void 0)&&Scribd.logged_in?!0:!1},e.prototype.has_external_progress=function(e){return(null!=e?e.offset:void 0)?e.from_current_device?!1:"browser"===e.device_name?!1:!0:!1},e.prototype.external_progress_notification_message=function(e){return I18n.t("shared.reading_progress.base.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})},e.prototype.notify_external_progress=function(e){var t;return this.has_external_progress(e)&&!Scribd.ReadingProgress.external_progress_notice_seen?(Scribd.ReadingProgress.external_progress_notice_seen=!0,this.create_flash_notice(this.external_progress_notification_message(e)),t=Scribd.current_doc.is_sheet_music?"sheet music":"book",$(document.body).track_rats("reading_progress:progress_moved:show",{doc_id:Scribd.current_doc.id,destination_offset:e.offset,offset_type:e.offset_type,document_type:t})):void 0},e.prototype.create_flash_notice=function(e){return Scribd.Flasher.standard("notice",e)},e.prototype.update_external_progress=function(e){return this.has_external_progress(e)?$(window).trigger("scribd:external_reading_progress",e):void 0},e.prototype.get=function(){return $.get(this.url,{doc_id:this.doc_id},function(e){return function(t){return e.update_external_progress(t.progress)}}(this))},e.prototype.post=function(){var e;return e=Scribd.CSRF.with_token({doc_id:this.doc_id,offset:this.offset,offset_type:this.offset_type,percentage:this.percentage}),$.post(this.url,e,function(e){return function(t){return e.update_external_progress(t.progress)}}(this))},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{shared:{reading_progress:{base:{we_ve_moved_you_to_where_you:"Lo llevamos hasta donde ley\xf3 en su %{progress_device_name}"}}}}});


/* app/views/pdfs/_sidebar.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.PdfsSidebar=function(){function t(t,n){null==n&&(n={}),this.track_interests=e(this.track_interests,this),this.container=$(t),this.track_interests(),"left"===n.side&&this.container.find(".document_cell").addClass("no_hovercard"),this.container.dispatch("click",{toggle_details_btn:function(e){return function(){return e.container.toggleClass("details_open"),docManager?(docManager._updatePageBoundingRects(),docManager._currentViewManager.checkAndUpdateVisiblePages()):void 0}}(this),interest_link:function(){return function(e){return $(document.body).track_rats("doc:interests:click",{interest:{id:e.data("category_id"),name:e.text()}}),"continue"}}(this),see_more_btn:function(e){return function(){return $(document.body).track_rats("doc:more_information_button:click",{action:"show"}),Scribd.Lightbox.open_react("description_lightbox",Scribd.R.Pdfs.Lightboxes.DescriptionLightbox({description_content:e.container.find(".full_description").html()}))}}(this)})}return t.prototype.track_interests=function(){var e,t;return t=function(){var t,n,i,r;for(i=this.container.find(".interest_link"),r=[],t=0,n=i.length;n>t;t++)e=i[t],e=$(e),r.push({id:e.data("category_id"),name:e.text()});return r}.call(this),t.length?$(document.body).track_rats("doc:interests:show",{interests:t}):void 0},t}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{sidebar:{download:"Descarga",resume:"Continuar",read_all:"Leer todo",buy_paid_document_price_currency:"Comprar %{paid_document_price_currency}",edit_document:"Editar documento",by:"por",embed:"Insertar",read_anywhere_with_the_scribd_app:"Lea en cualquier parte con la aplicaci\xf3n Scribd",description:"Descripci\xf3n:",read_on_scribd_mobile:"Leer en Scribd m\xf3vil:",iphone:"iPhone",ipad:"iPad",and:"y",android:"Android",copyright:"Copyright:",list_price:"Precio de lista:",flag_for_inappropriate_content:"Flag for inappropriate content",show_more:"Mostrar m\xe1s",more_information:"M\xe1s informaci\xf3n",show_less:"Mostrar menos",interests:"Intereses",view:"visita",strong_download_strong_as_available_extensions_map_upcase_join_or_read_online:"<strong>Download</strong> as %{available_extensions_map_upcase_join} or read online from Scribd",related_interests:"Intereses relacionados",download_with_free_trial:"Con una prueba gratuita!",download_this_document:"Descargar \xe9ste documento",isbn:"ISBN:",written_by:"Escrito por",uploaded_by:"Cargado por",on:"el",view_more:"Ver m\xe1s",related_interests_:"Intereses relacionados",rating_and_stats:"Calificaci\xf3n y estad\xedsticas",document_actions:"Acciones de documentos",share_or_embed_document:"Compartir o incrustar documentos"}}}});


/* app/views/pdfs/_document_details.coffee @ 1506640175 */
(function(){}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{document_details:{more_info:"M\xe1s informaci\xf3n",less_info:"Menos informaci\xf3n"}}}});


/* app/views/pdfs/errors/deleted.coffee @ 1506640175 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.PdfsDeleted=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.fit_to_width(),Scribd.hook_tooltips(this.container),this.container.find("[data-default_text]").placeholder_text(),new Scribd.UI.FilteredDocumentPage(this.container)}return e(n,t),n}(Scribd.UI.ObjectGrid)}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{errors:{deleted:{notice:"Aviso",your_document_was_successfully_expired:"El documento ha expirado.",go_to_uploads_187:"Ir a Cargas &#187;",why:"\xbfPor qu\xe9?",your_document_was_successfully_deleted:"El documento ha sido eliminado.",this_document_has_been_removed_from:"Este documento ha sido eliminado de Scribd.",reading_suggestions:"Sugerencias de lectura",the_document_strong_document_title_strong_is_no_longer_html:"El documento <strong>%{document_title}</strong> ya no est\xe1 disponibles en Scribd.",the_document_strong_document_title_strong_has_been_deleted_html:"El documento <strong>%{document_title}</strong> ha sido eliminado.",the_document_strong_document_title_strong_has_been_automatically:"El documento <strong>%{document_title}</strong> ha sido autom\xe1ticamente eliminado por <a href='%{bookid_url}'>BookID</a>, el sistema de protecci\xf3n de derechos de autor de Scribd.",like_all_automated_systems_bookid_sometimes:"Como todo sistema automatizado, BookID a veces comete errores. Si usted cree que este documento no est\xe1 en infracci\xf3n y ha sido eliminado por error, por favor cont\xe1ctese con <a href='mailto:copyright@scribd.com'>copyright@scribd.com</a>.",please_see_scribd_s_a_href_copyright_url_copyright_resource:"Por favor, consulte el <a href='%{copyright_url}'>Centro de recursos de derechos de autor</a> de Scribd para m\xe1s informaci\xf3n."}}}}});


/* app/views/pdfs/errors/unconverted.coffee @ 1506640175 */
(function(){Scribd.UnconvertedDocument=function(){function e(e){this.container=$(e),this.container.dispatch("click",{download_btn:function(){return function(e){var t,n;return n=e.data("download_url"),t=e.data("document_id"),Scribd.Lightbox.show_loading(),Scribd.download_actions.download(t,"read","unconverted pdf",function(){return $.post(n).done(function(e){return e.props.download_url=n,Scribd.Lightbox.open_react("document_download_lb",Scribd.R.Pdfs.Lightboxes.DownloadLightbox(e.props))})})}}(this)})}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{errors:{unconverted:{this_document_is_being_prepared:"Este documento se est\xe1 preparando",the_scribd_version_of_this_document:"La versi\xf3n de este documento en Scribd se est\xe1 procesando y estar\xe1 disponible en breve.",ahead_of_this_document_in_the:" delante de este documento en la cola.)",we_could_not_convert_this_document:"No hemos podido convertir este documento",we_re_unable_to_display_this_document:"No hemos podido mostrar este documento y no hay formatos disponibles para descargar.",download_to_view_this_document:"Descargar para visualizar este documento",we_re_unable_to_display_this_document_:"No hemos podido mostrar este documento. Para visualizarlo, desc\xe1rguelo en su formato original.",formats_available_document_currently_downloadable_extensions_join_upcase:"Formatos disponibles: %{document_currently_downloadable_extensions_join_upcase}",download:"Descargar"}}}}});


/* app/views/pdfs/lightboxes/_description_lightbox.coffee @ 1506640175 */
(function(){var e,t,n,i,r;i=React.DOM,n=i.h2,t=i.div,e=Scribd.R.component_builder("Pdfs.Lightboxes.DescriptionLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_description_lightbox"}),r=React.PropTypes,e({propTypes:{description_content:r.string},enclosing_element_type:function(){return Scribd.R.Shared.Lightbox},componentDidMount:function(){return this.container().dispatch("click",{flag_document_btn:function(){return function(e){return Scribd.pdfs_show.flag_document(e.data("lightbox_url"))}}(this)})},render:function(){return[n({className:"title"},I18n.t("pdfs.lightboxes.description_lightbox.description")),t({className:"content_inner",dangerouslySetInnerHTML:{__html:this.props.description_content}})]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{lightboxes:{description_lightbox:{description:"Descripci\xf3n"}}}}});


/* app/views/pdfs/lightboxes/_download_lightbox.coffee @ 1506640175 */
(function(){var e,t,n,i,r,o,s,a,c,l,u;c=React.DOM,a=c.p,i=c.em,n=c.div,l=c.span,s=c.label,o=c.input,r=c.h2,e=c.a,t=Scribd.R.component_builder("Pdfs.Lightboxes.DownloadLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_download_lightbox",track_category:"download_dialog"}),u=React.PropTypes,t({propTypes:{show_paywall:u.bool,archive_url:u.string,base_url:u.string,recommendation_html:u.string,download_url:u.string,document:u.shape({secret_password:u.string}).isRequired,filename:u.string.isRequired,formats:u.arrayOf(u.shape({extension:u.string,filesize:u.string})).isRequired},enclosing_element_type:function(){return function(e){return function(t){return Scribd.R.Shared.Lightbox($.extend({title:e.state.download_started?void 0:I18n.t("pdfs.lightboxes.download_lightbox.download_document")},t))}}(this)},getInitialState:function(){var e;return{selected_extension:null!=(e=this.props.formats[0])?e.extension:void 0,formats:this.props.formats,download_started:!1,nag:this.props.nag}},componentLightboxShow:function(){return this.setState({download_started:!1})},componentDidMount:function(){return this.container().on("Scribd:lightbox:closed",function(){return function(){return $(document.body).track_rats("doc:download_modal:hide")}}(this))},widget_css_classes:function(e){return classNames(e,"lightbox auto_center",{download_started:this.state.download_started})},do_download:function(){var e;return $(document.body).track_rats("doc:final_download_button:click",{format:this.state.selected_extension}),e=this.props.show_paywall?this.props.archive_url:$.param.querystring(this.props.base_url,{secret_password:this.props.document.secret_password,extension:this.state.selected_extension}),setTimeout(function(){return window.location=e},200)},render:function(){var e;return(null!=(e=this.state.nag)?e.paused:void 0)?this.render_paused():this.state.download_started?this.render_after_download():this.render_downloader()},render_paused:function(){return[a({children:[I18n.t("pdfs.lightboxes.download_lightbox.your_membership_is_currently_paused_until",{state_nag_next_payment_due:this.state.nag.next_payment_due})+" ",i({},this.props.document.title),"?"]}),n({className:"buttons",children:[this.common_button({className:classNames({disabled:this.state.loading}),disabled:this.state.loading,onClick:function(e){return function(t){return t.preventDefault(),e.setState({loading:!0}),e.unpause_account()}}(this)},I18n.t(this.state.loading?"pdfs.lightboxes.download_lightbox.resuming":"pdfs.lightboxes.download_lightbox.resume_membership"))]})]},unpause_account:function(){return $.getJSON(this.state.nag.fix_url).fail(function(e){return function(){return window.location=e.state.nag.fix_url}}(this)).done(function(e){return function(){return $(document.body).trigger("scribd:unpause_account"),$.post(e.props.download_url).done(function(t){var n;return e.setState({nag:null,loading:!1,just_resumed:!0,selected_extension:null!=(n=t.props.formats[0])?n.extension:void 0,formats:t.props.formats})})}}(this))},render_downloader:function(){return[this.state.just_resumed?a({},I18n.t("pdfs.lightboxes.download_lightbox.your_membership_has_been_resumed")):void 0,this.render_current_format(),this.render_format_picker(),n({className:"buttons"},this.common_button({onClick:function(e){return function(){return e.do_download(),e.setState({download_started:!0})}}(this)},I18n.t("pdfs.lightboxes.download_lightbox.download_current_format_extension",{current_format_extension:this.current_format().extension})))]},current_format:function(){return _.find(this.state.formats,function(e){return function(t){return t.extension===e.state.selected_extension}}(this))},render_current_format:function(){var e;return e=this.current_format(),n({className:"document_data",children:[n({className:"data_row file_name",children:[l({className:"data_value"},this.props.filename+"."+e.extension)]}),n({className:"data_row",children:[l({className:"data_value"},e.filesize)]})]})},render_format_picker:function(){return 1!==this.state.formats.length?n({className:"format_picker",children:this.state.formats.map(function(e){return function(t){return n({className:"format_row"},s({children:[o({type:"radio",name:"download_extension",checked:t.extension===e.state.selected_extension,value:t.extension,onChange:function(){return e.setState({selected_extension:t.extension})}})," "+t.extension.toUpperCase()]}))}}(this))}):void 0},render_after_download:function(){return[r({className:"title",children:[I18n.t("pdfs.lightboxes.download_lightbox.your_download_has_started")]}),n({className:"secondary_message",children:[I18n.t("pdfs.lightboxes.download_lightbox.having_trouble_downloading")+" ",e({href:"javascript:void(0)",onClick:function(e){return function(){return e.setState({download_started:!1})}}(this)},I18n.t("pdfs.lightboxes.download_lightbox.try_again"))]}),this.props.recommendation_html?n({key:"recommendations",className:"rec_wrapper",dangerouslySetInnerHTML:{__html:this.props.recommendation_html}}):void 0]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{lightboxes:{download_lightbox:{download_document:"Descargar documento",your_membership_is_currently_paused_until:"Your membership is currently paused until %{state_nag_next_payment_due}. Would you like to resume your membership now to download",no_thanks:"No gracias",resuming:"Resuming",resume_membership:"Continuar membres\xeda",your_membership_has_been_resumed:"Your membership has been resumed.",download_current_format_extension:"Descargar %{current_format_extension}",your_download_has_started:"Your download has started.",having_trouble_downloading:"Having trouble downloading?",try_again:"Intentar de nuevo",similar_to_document_pretty_title:"Similar to %{document_pretty_title}.",check_out_more_from:"Check out more from"}}}}});


/* app/views/pdfs/lightboxes/embed_lightbox.coffee @ 1506640175 */
(function(){Scribd.UI||(Scribd.UI={}),Scribd.UI.CustomSize=function(){function e(e,t,n){_.bindAll(this),this.embed_ui=e,this.container=$(t),this.book_mode=!1,this.options=_.extend({min_width:400,min_height:300,aspect_ratio:.75},n||{}),this.lock_aspect_ratio=!0,this.width_input=this.container.find(".custom_width"),this.height_input=this.container.find(".custom_height"),this.update_from_width=this.updater_for("width"),this.update_from_height=this.updater_for("height"),this.width_input.on("change",this.update_from_width),this.height_input.on("change",this.update_from_height),this.lock_button=this.container.find(".lock_button"),this.lock_button.on("click",function(e){return function(){return e.lock_button.toggleClass("unlocked"),e.lock_aspect_ratio=!e.lock_aspect_ratio,e.lock_aspect_ratio&&0===!e.width_input.val().length?e.update_from_width():void 0}}(this))}return e.prototype.values=function(){return[parseInt(this.width_input.val(),10),parseInt(this.height_input.val(),10)]},e.prototype.has_values=function(){return 0===!this.width_input.val().length&&0===!this.height_input.val().length},e.prototype.updater_for=function(e){var t,n,i,r,o,s;return r="width"===e?"height":"width",t=this.options.aspect_ratio,"height"===e&&(t=1/t),n=this[e+"_input"],o=this[r+"_input"],i="min_"+e,s="min_"+r,function(a){return function(){var c,l;if(0!==n.val().length)return a.book_mode&&(t=1/t),l=parseInt(n.val(),10),l<a.options[i]&&(l=a.options[i],n.val(l)),c=void 0,a.lock_aspect_ratio||0===o.val().length?(c=Math.max(Math.floor(l/t),a.options[s]),o.val(c)):c=a.embed_ui.custom_options[r],"width"===e?a.embed_ui.set_size(l,c):a.embed_ui.set_size(c,l)}}(this)},e}(),Scribd.UI.EmbedDialog=function(){function e(e){var t;_.bindAll(this),this.container=$(e),this.document=this.container.data("document"),(t=this.document).aspect_ratio||(t.aspect_ratio=.75),this.options={num_pages:this.document.page_count,aspect_ratio:this.document.aspect_ratio,doc_url:this.document.url,title:this.document.title,user_url:this.document.word_user.url,user_title:this.document.word_user.name,doc_id:this.document.id,doc_title:this.document.title,access_key:this.document.access_key,secret_password:this.document.secret_password},this.input=this.container.find(".code_input"),this.preview_container=this.container.find(".doc_preview"),this.custom_options={},this.generators={html:new Scribd.Embed.HTML5CodeGenerator(_.clone(this.options)),wordpress:new Scribd.Embed.WordpressCodeGenerator(_.clone(this.options))},this.starting_page=this.container.find(".misc_options .starting_page"),this.container.find(".custom_size input").add(this.starting_page).restrict_numeric({allow_period:!1}),this.custom_size=new Scribd.UI.CustomSize(this,this.container.find(".custom_size")),this.starting_page.on("change",function(e){return function(){var t,n;return n=0===e.starting_page.val().length?1:parseInt(e.starting_page.val(),10),t=e.options.num_pages,null!==t&&0!==t&&n>t&&(n=t,e.starting_page.val(n)),e.custom_options.page=n,e.update_code()}}(this)),this.container.on("change",".view_style",function(e){return function(t){var n;return n=$(t.currentTarget).val(),e.custom_options.mode=n,e.update_code()}}(this)),this.input.select_on_focus(),this.container.find(".include_link_input").on("change",function(e){return function(t){return e.custom_options.show_title=$(t.target).prop("checked"),e.update_code(),!0}}(this)),this.container.find(".include_recommendations_input").on("change",function(e){return function(t){return e.custom_options.show_recommendations=$(t.target).prop("checked"),e.update_code(),!0}}(this)),this.container.on("click",".close",function(){return function(){return Scribd.Lightbox.close()}}(this)),this.container.on("change",".format_container",function(e){return function(t){return e.update_format($(t.target).val())}}(this)),this.container.on("change",".size_picker",function(e){return function(t){var n,i,r,o,s;return $(t.currentTarget).find("label").removeClass("active"),i=$(t.target),i.closest("label").addClass("active"),o=i.val(),o?(s=null,n=null,r=o.match(/(\d+)x(\d+)/),r&&(s=r[1],n=r[2]),e.set_size(s,n)):e.custom_size.has_values()?e.set_size.apply(e,e.custom_size.values()):void 0}}(this)),this.update_format("html"),this.setup_copy_link()}return e.prototype.set_size=function(e,t){return e!==this.custom_options.width||t!==this.custom_options.height?(this.custom_options.width=e,this.custom_options.height=t,this.custom_options.auto_width=!e,this.custom_options.auto_height=!t,this.update_code()):void 0},e.prototype.update_format=function(e){return this.current_format=e,this.update_code()},e.prototype.update_code=function(e){var t;return"book"===this.custom_options.mode?this.showing_book||(this.showing_book=!0,this.custom_size.book_mode=!0,this.toggle_sizes()):this.showing_book&&(this.showing_book=!1,this.custom_size.book_mode=!1,this.toggle_sizes()),this.input.val(this.generators[this.current_format].render(this.custom_options)),t=this.generators.html.render(),this.preview_container.show().html(t),_.defer(function(e){return function(){var t;return e.custom_options.auto_height&&e.custom_options.auto_width?(t={width:e.preview_container.width(),height:e.preview_container.height()},e.preview_container.find(".scribd_iframe_embed").css(t)):void 0}}(this)),e?void 0:this.flash()},e.prototype.toggle_sizes=function(){return $(".size_picker:first").children().toggleClass("hidden"),$(".custom_size:first").removeClass("hidden")},e.prototype.flash=function(){var e;return e=this.container.find(".tab_bodies input").flash()},e.prototype.setup_copy_link=function(){var e,t,n,i;return e=this.container.find(".copy_link"),i=e.find(".document_url_input"),t=e.find("form"),i.on("click",function(){return function(){return i[0].select()}}(this)),("undefined"!=typeof docManager&&null!==docManager?docManager.firstVisiblePage:void 0)||e.find(".position_picker").remove(),n=function(e){return function(){var n,r,o,s,a,c,l,u,d;for(s={},c=t.serializeArray(),n=0,r=c.length;r>n;n++)l=c[n],o=l.name,d=l.value,s[o]=d;return a={},"current"===s.doc_position&&(a.page=docManager.firstVisiblePage.pageNum),s.fullscreen&&(a.fullscreen=1),u=e.options.doc_url,$.isEmptyObject(a)||(u+="#"+$.param(a)),i.val(u)}}(this),t.on("change",function(){return function(){return n()}}(this)),n()},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{lightboxes:{embed_lightbox:{custom:"Personalizar",width:"Ancho: ",height:"Altura: ",select:"Seleccionar",slideshow:"Presentaci\xf3n de diapositivas",scroll:"Desplazar",include_link:"Incluir enlace",include_recommendations:"Incluir Sugerencias",embed:"Insertar",embed_this_in_your_website:"Embed this in your website",sup_sup_the_code_will_be_updated:"<sup>*</sup> The code will be updated based on your changes.",format:"Format",customize_for:"Customize for:",html:"HTML",wordpress:"Wordpress",size:"Size",options:"Options",copy_link:"Copiar direcci\xf3n",beginning_of_document:"Beginning of document",current_page:"Current page",fullscreen:"Pantalla completa",start_at_page:"Start at page:",style:"Style:",autosize:"Autosize",embed_document:"Embed Document",generate_a_link:"Generate a Link",customization_options_available_below:"Customization options available below",preview:"Preview",link_options:"Link Options",link_to_the:"Link to the"}}}}});


/* app/views/pdfs/lightboxes/flag_doc_lightbox.coffee @ 1506640175 */
(function(){Scribd.FlagDocDialog=function(){function e(e){this.container=$(e).on("submit",function(e){return function(){return e.container.addClass("loading")}}(this)).on("ajax:complete",function(e){return function(){return e.container.removeClass("loading"),Scribd.Lightbox.close()}}(this))}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{lightboxes:{flag_doc_lightbox:{flag_this_document:"Flag for inappropriate content",please_tell_us_reason_s_for_reporting:"Por favor, cu\xe9ntenos el/los motivo/s para denunciar este documento",cancel:"Cancelar",submit:"Enviar",if_you_are_the_copyright_owner_html:"If you are the copyright owner of this document and want to report it, please visit the <a href='%{faq_urls_copyright_infringement}'>copyright infringement notice</a> page to submit a report."}}}}});


/* app/views/pdfs/lightboxes/_print_lightbox.coffee @ 1506640175 */
(function(){var e,t,n,i,r;i=React.DOM,n=i.p,t=i.div,e=Scribd.R.component_builder("Pdfs.Lightboxes.PrintLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_print_lightbox",track_category:"print_dialog"}),r=React.PropTypes,e({propTypes:{download_fn:r.func.isRequired},enclosing_element_type:function(){return function(){return function(e){return Scribd.R.Shared.Lightbox($.extend({title:I18n.t("pdfs.lightboxes.print_lightbox.print_document")},e))}}(this)},render:function(){return[n({},I18n.t("pdfs.lightboxes.print_lightbox.in_order_to_print_this_document_")),t({className:"actions"},this.common_button({className:"text_btn",onClick:function(){return Scribd.Lightbox.close()}},"Cancel"),this.common_button({className:"download_btn",onClick:this.props.download_fn},I18n.t("pdfs.lightboxes.print_lightbox.download_and_print")))]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{lightboxes:{print_lightbox:{print_document:"Imprimir Documento",in_order_to_print_this_document_:"In order to print this document from Scribd, you'll first need to download it.",download_and_print:"Descargar e imprimir"}}}}});


/* app/views/pdfs/promos/nyt_student_promo.coffee @ 1506640175 */
(function(){Scribd.NytStudentPromoPdf=function(){function e(e,t){this.opts=null!=t?t:{},this.container=$(e),this.container.dispatch("click",{close_btn:function(e){return function(){return e.close()}}(this),get_started_btn:function(e){return function(){return e.container.track_rats("nyt_student:sign_up_btn:click"),"continue"}}(this),nyt_student_promo:function(e){return function(){return e.container.track_rats("nyt_student:sign_up_btn:click"),setTimeout(function(){return window.location.href=e.opts.url},50)}}(this)})}return e.prototype.redirect_to_promo=function(){return window.location.href=this.opts.url},e.prototype.close=function(){return $(document).trigger("scribd:pdfs:nyt_student_promo_closed",this),this.container.trigger("close_promo_wrapper"),this.container.hide(),$.ajax({type:"POST",url:this.opts.close_url,data:{id:this.opts.promo_id}})},e}()}).call(this);


/* app/views/pdfs/_seo_lightbox.coffee @ 1506640175 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.SeoLightbox=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.setup_carousel(this.container.find(".seo_images")),this.setup_events(),this.setup_signup()}return e(n,t),n.prototype.setup_carousel=function(e){var t;return e=$(e),t=$("<div class='scroller'></div>"),t.append(e.children().detach()),e.append(t)},n.prototype.setup_events=function(){return this.variation=Scribd.SeoShared.seo_variation(),this.container.attr("data-track_category","seo_lightbox:"+this.variation),this.container.dispatch("click",{close_button:function(e){return function(){return e.close()}}(this),start_trial_btn:function(e){return function(){return e.start_trail()}}(this)}),this.container.on("Scribd:lightbox:closed",function(e){return function(){return e.container.track({action:"close",label:"close"})}}(this)),this.container.on("Scribd:Facebook:login_success",function(e){return function(){return Scribd.Lightbox.open("login_successful_lb"),e.redirect_to_billing()}}(this)),this.container.on("scribd:signup_error:email_taken",function(e){return function(){return e.signup.find(".signup .input_error").text(I18n.t("pdfs.seo_lightbox.that_email_is_already_taken")),e.signup.find(".signup .email_input").addClass("input_err field_err")}}(this)),this.container.track({action:"show",label:"show"})},n.prototype.setup_signup=function(){return this.signup=this.container.find(".seo_signup"),0===this.signup.length?void(this.signup=null):(this.signup.html(this.signup.html().replace(/DocPromoOne/g,this.campaign())),new Scribd.LoginForms(this.signup),new Scribd.FacebookLoginButton(this.signup.find(".facebook_login_button")))},n.prototype.campaign=function(){switch(this.variation){case"control":case"new_control":return"DocPromoOne";case"new_basic":return"DocPromoTwo";case"new_doc_only_subscribe":return"DocPromoFour";case"new_doc_only_archive":return"DocPromoFive"}},n.prototype.redirect_to_subscribe=function(){var e,t,n,i;return e=this.campaign(),this.variation.match(/archive/)?(t=encodeURIComponent(JSON.stringify({page:"archive_plans",context:"archive",action:e,logged_in:Scribd.logged_in,platform:"web"})),window.open("/archive/plans?metadata="+t+"&doc="+(null!=(n=Scribd.current_doc)?n.id:void 0))):window.open("/subscribe?action="+e+"&doc_id="+(null!=(i=Scribd.current_doc)?i.id:void 0))},n.prototype.redirect_to_billing=function(){return window.location=this.signup.find('[name="login_params[next_url]"]').val()},n.prototype.show_signup=function(){return this.signup.addClass("open"),setTimeout(function(e){return function(){return e.signup.find(".signup .username_input").focus()}}(this),200)},n.prototype.start_trail=function(){return $(document.body).track_rats("doc:subscribe_button:click",{location:"lightbox"}),null!=this.signup?Scribd.logged_in?this.redirect_to_billing():this.show_signup():this.redirect_to_subscribe()},n}(Scribd.Lightbox)}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{seo_lightbox:{that_email_is_already_taken:"Ese correo electr\xf3nico ya fue utilizado.",join_the_membership:"Suscr\xedbete",for_readers:"para lectores",get_monthly_access_to_books_audiobooks:"Obt\xe9n acceso mensual a libros, libros de audio, documentos, <br />y m\xe1s"}}}});


/* app/views/pdfs/show.coffee @ 1506640175 */
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.Ads={addBetweenPageUnit:function(){}},e=function(e,t){var n;return n=navigator.platform.match(/Mac/),$(document).keydown(function(){return function(i){return i.keyCode===e.charCodeAt(0)&&(n&&i.metaKey||!n&&i.ctrlKey)?t(i):void 0}}(this))},Scribd.PdfsShow=function(){function n(e,n){var i;this.opts=n,this.setup_inview_tracking=t(this.setup_inview_tracking,this),this.track_performance=t(this.track_performance,this),this.container=$(e),this.setup_events(),this.fullscreen=!1,this.document=$.extend(this.opts.document,{total_pages:this.get_highest_page()}),this.render(),this.setup_sharing(),window.docManager&&(this.highlighter=new Scribd.PdfHighlighter(this.container)),this.setup_sizing(),this.fetch_data(),this.setup_sticky_footer(),this.setup_seo_roadblock(),this.setup_embed_referral(),this.setup_print_detection(),this.setup_find_hotkey(),this.setup_buy_manager(),this.track_performance(),this.send_tracking(),this.setup_inview_tracking(),this.setup_fullscreen_btn(),this.setup_reading_progress(),this.setup_flash(),this.fix_ie_10_viewport(),this.setup_nyt_student_promo_banner(),Scribd.hook_tooltips(this.container.parent()),i=window.location.hash.match(/\bdownload\b/)||window.location.search.match(/\bdownload\b/),i&&Scribd.Lightbox.ready.done(function(e){return function(){return _.defer(function(){return e.download_document("url")})}}(this)),$(document.body).on("scribd:credit_redeemed",function(){return document.location.reload()})}return n.min_zoom=.3,n.max_zoom=3,n.prototype.fix_ie_10_viewport=function(){var e;return e=$(".global_wrapper"),e.css("height","calc(100vh - "+(e.position().top+"px")+")")},n.prototype.add_space_for_non_dismissable_flashes=function(){var e,t;return e=this.container.find(".document_scroller"),e.css({marginTop:0}),$(document.body).hasClass("pdf_fullscreen")||$(document.body).hasClass("pdf_mobile")?(t=0,$(Scribd.Flasher.global_container()).find(".flash.non_dismissible").each(function(){return t+=$(this).height()}),e.css({marginTop:t})):void 0},n.prototype.setup_flash=function(){return $(document.body).on("scribd:standard_flash:animation_enter scribd:standard_flash:animation_leave",function(e){return function(){return e.add_space_for_non_dismissable_flashes(),e.fix_ie_10_viewport()}}(this))},n.prototype.track_performance=function(){return $(window).on("load",function(){return function(){return window.performance?_.defer(function(){var e,t,n;return e=performance.timing.domInteractive-performance.timing.navigationStart,t=performance.timing.loadEventEnd-performance.timing.navigationStart,n=performance.timing.loadEventEnd-performance.timing.responseEnd,$(document.body).track_rats("doc:performance",{dom_interactive:e,load_event_end:t,response_end:n})}):void 0}}(this))},n.prototype.setup_sizing=function(){var e,t,n;if(window.docManager)return e=this.container.find(".document_scroller"),n=$(window),t=60,this.update_page_width=function(i){return function(){var r,o;return t=n.width()<=600?30:60,r=i.fullscreen?1300:1e3,o=Math.min(r,e.width()-t),docManager.view_manager_deferred.then(function(){var e;return DocumentManager.scrollParent?"undefined"!=typeof docManager&&null!==docManager&&null!=(e=docManager._currentViewManager)?e._setWidth(o):void 0:(docManager._currentViewManager._currentPageWidth=o,docManager._currentViewManager._updatePageWidths())})}}(this),this.refresh_pages=function(e){return function(){return e.update_page_width(),setTimeout(function(){return docManager._updatePageBoundingRects(),docManager._currentViewManager.checkAndUpdateVisiblePages()},100)}}(this),this.update_page_width(),$(window).on("resize",_.debounce(function(e){return function(){return e.update_page_width()}}(this),20))},n.prototype.send_tracking=function(){return this.opts.pmp_data&&"function"==typeof $rat&&$rat("pmp_read",this.opts.pmp_data),"function"==typeof $rat&&$rat("doc_view_mode",{value:"doc_view_mode",doc_id:Scribd.current_doc.id}),"undefined"!=typeof $rat&&null!==$rat&&$rat.root().flushEvents(),this.opts.pingback_url?Scribd.send_pingback(this.opts.pingback_url):void 0},n.prototype.setup_inview_tracking=function(){var e,t,n,i;return e={".page_missing_explanation":"doc:read_full_version_link:show",".page_blur_promo":"doc:free_preview_blur_button:show"},i=function(t){return function(n){var i,r,o;r=[];for(o in e)if(n.closest(o).length&&(i=e[o])){delete e[o],$(document.body).track_rats(i,{doc_id:t.document.id});break}return r}}(this),n=this.container.find(".document_scroller"),t=_.throttle(function(r){return function(){var o,s,a,c,l,u,d,h,p;if($.isEmptyObject(e))return void n.off("scroll",t);if(h=function(){var e,t,n,i;for(n=this.container.find(".missing_page_buy_button"),i=[],e=0,t=n.length;t>e;e++)s=n[e],s=$(s),s.data("tracked")||i.push(s);return i}.call(r),h.length){for(p=n.offset().top,o=p+n.height(),d=[],l=0,u=h.length;u>l;l++)s=h[l],c=s.offset().top,a=c+s.height(),o>c&&a>p?(s.data("tracked",!0),d.push(i(s))):d.push(void 0);return d}}}(this),400),n.on("scroll",t)},n.prototype.fetch_data=function(){var e,t;return e=$(document.body),t=this.opts.data_url,_.isArray(t)&&(t=t.join("")),$.get(t).done(function(){return function(t){return e.toggleClass("buy_disabled",!!t.disabled_store_sale&&Scribd.current_doc.is_paid),e.toggleClass("pmp_disabled",!!t.disabled_pmp_sale&&Scribd.current_doc.is_pmp)}}(this))},n.prototype.setup_sticky_footer=function(){var e,t;return e=this.container.find(".document_footer"),e.length?(t=e.closest(".document_scroller"),t.on("scroll",function(){return function(){return e.css({marginLeft:t.scrollLeft()+"px"})}}(this))):void 0},n.prototype.setup_sharing=function(){var e,t,n,i,r,o;o=this.container.find(".sharing_buttons"),n=o.data("sharing_opts"),new Scribd.SharingButtons(o,n),r={"scribd:share:email":"doc:share_via_email_button:click","scribd:share:facebook":"doc:share_via_facebook_button:click","scribd:share:twitter":"doc:share_via_twitter_button:click","scribd:share:googleplus":"doc:share_via_googleplus_button:click","scribd:share:pinterest":"doc:share_via_pinterest_button:click","scribd:share:linkedin":"doc:share_via_linkedin_button:click"},t=function(e){return function(t,n){return e.container.on(t,function(){return $(document.body).track_rats(n)})}}(this);for(e in r)i=r[e],t(e,i);return this.container.dispatch("click",{embed_btn:function(){return function(e){return $(document.body).track_rats("doc:embed_button:click"),Scribd.Lightbox.remote_open("embed_dialog",e.data("lightbox_url"))}}(this),flag_document_btn:function(e){return function(t){return e.flag_document(t.data("lightbox_url"))}}(this)})},n.prototype.setup_find_hotkey=function(){return e("F",function(e){return function(){var t;return t=e.toolbar.container().find(".search_input"),t.length?(t.focus(),!1):void 0}}(this))},n.prototype.setup_print_detection=function(){var t;if(Scribd.current_doc.downloadable_for_premium_users)return"function"==typeof window.matchMedia&&window.matchMedia("print").addListener(_.debounce(function(e){return function(){return e.print_document()}}(this),3e3,!0)),t=window.onbeforeprint,window.onbeforeprint=function(e){return function(){return e.print_document(),"function"==typeof old_onbeforeprint&&old_onbeforeprint(),!1}}(this),e("P",function(e){return function(){return e.print_document(),!1}}(this))},n.prototype.get_highest_page=function(){var e,t,n;if(!window.docManager)return 0;if(e=null!=(n=Scribd.current_doc)?n.page_count:void 0,!e){e=0;for(t in docManager.pages)e=Math.max(e,t)}return e},n.prototype.render=function(){return window.docManager?(this.current_zoom=docManager._currentViewManager._currentZoomMultiplier,this.render_toolbar(),this.toggle_fullscreen()):void 0},n.prototype.toggle_fullscreen=function(){return this.container.toggleClass("fullscreen",this.fullscreen),$(document.body).toggleClass("pdf_fullscreen",this.fullscreen),this.add_space_for_non_dismissable_flashes()},n.prototype.render_toolbar=function(){return this.toolbar_drop||(this.toolbar_drop=this.container.find(".toolbar_drop")),this.toolbar=ReactDOM.render(Scribd.R.Pdfs.Toolbar({document:this.document,fullscreen:this.fullscreen||!1,mobile:!!this.opts.single_column,current_zoom:this.current_zoom,current_page:this.current_page||1,search_results:this.search_results,highlight_callback:function(e){return function(t,n){return e.highlighter.clear(),e.highlighter.highlight_from_results(t,n)}}(this)}),this.toolbar_drop[0])},n.prototype.setup_app_download_link_in_viewport_tracking=function(){return $(".download_app_promo_lightbox").one("inview",function(e,t){return t?$(this).track_rats("download_app_promo:text_link:view",{doc_id:Scribd.current_doc.id}):void 0})},n.prototype.setup_events=function(){var e,t,n,i;return this.opts.responsive_doc_reader&&Scribd.nway_test_force_group("responsive_doc_reader",this.opts.responsive_doc_reader,"responsive_doc_reader"),this.setup_app_download_link_in_viewport_tracking(),e={},_.delay(function(e){return function(){return e.time_limit_past_for_upvote=!0}}(this),6e4),t=_.once(function(e){return function(){return $(document).trigger(e.opts.show_promo_banner&&null==e.opts.subscriber?"scribd:upvote_popover:show:above_banner":"scribd:upvote_popover:show")}}(this)),n=_.once(function(e){return function(){return $(document).trigger(e.opts.show_promo_banner&&null==e.opts.subscriber?"scribd:upvote_popover:show:above_banner":"scribd:upvote_popover:show")}}(this)),"undefined"!=typeof docManager&&null!==docManager&&docManager.addEvent("visiblePagesChanged",function(i){return function(r){var o,s,a,c,l,u,d,h;for(o=function(t){return setTimeout(function(){return e[t.pageNum]=!1},500)},d=[],a=0,c=r.length;c>a;a++)u=r[a],e[u.pageNum]||(e[u.pageNum]=!0,h=i.document.total_pages<=10&&u.pageNum===i.document.total_pages,l=i.document.total_pages>10&&u.pageNum>=5,s=i.document.total_pages>10&&u.pageNum===i.document.total_pages,(h||l)&&i.time_limit_past_for_upvote&&t(),s&&i.time_limit_past_for_upvote&&n(),o(u),d.push("function"==typeof $rat?$rat("doc:page:show",{page:u.pageNum,of:i.document.total_pages}):void 0));return d}}(this)),"undefined"!=typeof docManager&&null!==docManager&&docManager.addEvent("expectedFirstPageChanged",function(e){return function(t){var n;return e.current_page=t,e.render(),(n=e.going_to_page)?(delete e.going_to_page,n.to_page=""+t,$(document.body).track_rats("doc:pager:engage",n)):void 0}}(this)),this.container.on("click",".trial_learn_more_btn",function(){return function(){$(document.body).track_rats("doc:subscribe_button:click",{location:"top bar banner"})}}(this)),this.container.dispatch("click",{floating_fullscreen_btn:function(e){return function(){return e.set_fullscreen(!e.fullscreen)}}(this),more_description_btn:function(e){return function(){var t;return t=e.container.find(".collapse_data"),$(document.body).track_rats("doc:more_information_button:click",{action:t.is(".show_more")?"hide":"show"}),t.toggleClass("show_more")}}(this),download_btn:function(e){return function(){return e.download_document("sidebar")}}(this),download_app_promo_lightbox:function(e){return function(){return e.container.track_rats("download_app_promo:text_link:click",{doc_id:Scribd.current_doc.id}),Scribd.Lightbox.open("app_download_promo_lightbox")}}(this),trial_learn_more_btn:function(e){return function(t){return Scribd.SignIn.open({initial_view:"join",join_type:"archive",next_url:e.opts.subscribe_url,track_location:"learn_more"},t)}}(this)}),$(document.body).on("scribd:unpause_account",function(e){return function(){return e.container.removeClass("has_toolbar_nag")}}(this)),i=function(e){return function(t){return $(document.body).track_rats("doc:zoom_"+t+"_button:click",{to_zoom_level:Math.floor(100*e.current_zoom)+"%"})}}(this),Scribd.R.dispatch(this.container,{"toolbar:goto_page":function(e){return function(t,n,i){var r,o;return null==i&&(i=!1),r=n>e.current_page?1:-1,o=docManager.getClosestPageNumber(n,r),i||(e.going_to_page={text:""+n,from_page:""+(e.current_page||1)}),docManager.gotoPage(o,{direction:r})}}(this),"toolbar:zoom_in":function(e){return function(){return e.current_zoom>=e.constructor.max_zoom?void 0:("undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(1.25),e.render(),i("in"))}}(this),"toolbar:zoom_out":function(e){return function(){return e.current_zoom<=e.constructor.min_zoom?void 0:("undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(.8),e.render(),i("out"))}}(this),"toolbar:download":function(e){return function(){return e.download_document(e.fullscreen?"toolbar right fullscreen":"toolbar right default")}}(this),"toolbar:print":function(e){return function(){return $(document.body).track_rats("doc:print_button:click"),e.print_document()}}(this),"toolbar:fullscreen":function(e){return function(){return $(document.body).track_rats("doc:fullscreen_button:click",{action:e.fullscreen?"exit fullscreen":"fullscreen"}),e.set_fullscreen(!e.fullscreen)}}(this),"toolbar:clear_search":function(e){return function(){return e.highlighter.clear()}}(this),"toolbar:goto_search_result":function(e){return function(t,n,i){var r,o,s;return(o=e.last_search_results[n])?(i||$(document.body).track_rats("doc:search_doc_result:click",{index:n}),s=_.filter(e.last_search_results,function(e){return e.pageNum===o.pageNum}),r=_.indexOf(s,o),e.highlighter.select_result(o.pageNum,r)):void 0}}(this),"toolbar:search":function(e){return function(t,n){return $(document.body).track_rats("doc:search_doc:engage",{text:n}),$.post(e.document.toolbar.search_url,{query:n}).done(function(t){return e.last_search_results=t,e.toolbar.set_search_results(n,t)})}}(this)}),this.container.on("scribd:close_banner",function(e){return function(){return e.container.removeClass("store_promo_open")}}(this))},n.prototype.set_fullscreen=function(e){return this.fullscreen=e,this.render(),this.refresh_pages()},n.prototype.setup_fullscreen_btn=function(){var e;return e=function(e){return function(){var t,n;return t=e.container.find(".floating_fullscreen_btn"),n=0,e.container.find(".document_container, .document_details, .toolbar_drop, .header_spacer").each(function(e,t){return n+=t.scrollHeight}),window.scrollY+window.innerHeight>n?t.addClass("visually_hidden"):t.removeClass("visually_hidden")}}(this),$(window).on("scroll resize",e),e()},n.prototype.print_document=function(){return $(document.body).track_rats("doc:print_modal:show"),Scribd.Lightbox.open_react("print_document_lb",Scribd.R.Pdfs.Lightboxes.PrintLightbox({download_fn:function(e){return function(){return e.download_document("print modal")}}(this)}))},n.prototype.flag_document=function(e){return $(document.body).track_rats("doc:flag_button:click"),Scribd.with_login({initial_view:"login",login_header_text:I18n.t("pdfs.show.sign_in_to_flag_this_title")},function(){return function(){return Scribd.Lightbox.remote_open("lightbox_flag_document",e)}}(this))},n.prototype.download_document=function(e){return e&&$(document.body).track_rats("doc:download_button:click",{location:e}),Scribd.Lightbox.show_loading(),Scribd.download_actions.download(this.document.id,"read",e,function(e){return function(){return $.post(e.document.download_url).done(function(t){return $(document.body).track_rats("doc:download_modal:show"),t.props.download_url=e.document.download_url,Scribd.Lightbox.open_react("document_download_lb",Scribd.R.Pdfs.Lightboxes.DownloadLightbox(t.props))})}}(this))},n.prototype.setup_reading_progress=function(){var e,t,n,i;if(window.docManager)return e=null!=(t=window.location.hash.match(/\bpage=(\d+)/))?t[1]:void 0,e||(e=null!=(n=Scribd.current_doc)&&null!=(i=n.reading_progress)?i.offset:void 0),new Scribd.ReadingProgress.Pdf({scroll_node:DocumentManager.scrollParent||document.body,total_pages:this.opts.document.total_pages,doc_id:this.opts.document.id,container:this.container.find(".document_scroller")}),docManager.view_manager_deferred.then(function(t){return function(){var n;return n=window.location.hash.match(/\bfullscreen\b/),e&&+e>1&&!Scribd.ReadingProgress.PastPreviewLightbox.should_be_shown()&&docManager.gotoPage(+e),n?_.defer(function(){return t.set_fullscreen(!0)}):void 0}}(this)),$(window).on("scribd:external_reading_progress",function(){return function(e,t){return docManager.gotoPage(+t.offset+1)}}(this))},n.prototype.setup_embed_referral=function(){var e;return e=window.location.hash.search(/from_embed/)>0},n.prototype.setup_seo_roadblock=function(){var e;if(window.docManager&&Scribd.SeoShared.setup_assignment()&&!this.opts.view_restricted)return ouibounce(!1,{aggressive:!!(null!=(e=document.location.search)?e.match(/\bseo_roadblock\b/):void 0),callback:function(){return function(){var e,t,n;if(!Scribd.Lightbox.current_open)return n=Scribd.SeoShared.seo_variation(),t="seo_roadblock_lb_"+n,e=Scribd.Lightbox.open(t,Scribd.SeoLightbox)}}(this)})},n.prototype.setup_nyt_student_promo_banner=function(){return this.opts.subscriber?void 0:(this.container.find(".nyt_student_promo").css("display","flex"),this.container.track_rats("scribd:pdfs:nyt_student_promo_banner:view",{loc:"pdfs:show"}))},n.prototype.setup_buy_manager=function(){var e;return e=Scribd.BuyDocManager.for_current_doc(),this.container.find(".primary_buy_btn").attr("href",e.buy_url)},n.prototype.is_english_locale=function(){return"en_US"===I18n.locale},n}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{show:{sign_in_to_flag_this_title:"Sign in to flag this title",page_page_is_not_shown:'"La p\xe1gina n\xfamero %{page} no se muestra en \xe9sta previsualizaci\xf3n."',pages_start_page_to_end_page_is_not_shown:"\"Las p\xe1ginas <span class='missing_page_number notranslate'>%{start_page}</span> a la <span class='missing_page_number notranslate'>%{end_page}</span> no se muestran en esta previsualizaci\xf3n\"",sign_up_to_print_document_after:"Reg\xedstrate para imprimir el documento despu\xe9s de la descarga",you_re_reading_a_preview:"Est\xe1 leyendo una previsualizaci\xf3n",unlock_full_access:"Desbloquear el acceso completo con una prueba gratis.",free_with_a_30:"Gratis con una prueba de 30 d\xedas",download_with_free_trial:"Descargar con una prueba gratis",welcome_to_scribd:"\xa1Bienvenido a Scribd!",start_your_free_trial_and_access:"Comienza tu prueba gratis y accede a libros, documentos y m\xe1s.",find_out_more:"Buscar m\xe1s",document_information:"Informaci\xf3n del documento",document_toolbar:"Barra de herramientas del documento",screen_reader_information:"Informaci\xf3n del lector de pantalla",screen_reader_compatibility_information:"Informaci\xf3n de compatibilidad de lector de pantalla",due_to_the_method_this_document:"Debido al m\xe9todo con el que este documento se muestra en la p\xe1gina, los lectores de pantalla posiblemente muestren el contenido correctamente. Para una mejor experiencia, descargue el documento original y v\xe9alo en la aplicaci\xf3n nativa en su equipo."}}}});


/* app/views/pdfs/sidebar/_admin_panel.coffee @ 1506640175 */
(function(){Scribd.ReadPageAdmin=function(){function e(e){var t;this.container=$(e),t=!0,this.container.dispatch("click",{toggle_admin_btn:function(e){return function(){return e.container.toggleClass("open")}}(this)})}return e}()}).call(this);


/* app/views/pdfs/_ssi_recommendations.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.PdfsGroupedRecommendations=function(){function t(t){this.track_module=e(this.track_module,this),this.setup_tracking=e(this.setup_tracking,this),this.container=$(t),this.setup_tracking()}return t.prototype.setup_tracking=function(){var e,t,n,i,r;for(i=this.container.find("[data-track_opts]"),r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(this.track_module($(n)));return r},t.prototype.track_module=function(e){var t;return t=e.data("track_opts"),t.compilation_id?new Scribd.RecommendationTracking.Module(e,{compilation_id:t.compilation_id,module_id:t.module_id,widget_name:"sidebar",on_in_view:function(){return function(t){var n,i,r,o,s;for(o=e.find("[data-track_uuid]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],n=$(n),s.push(function(e){return e.on("inview",function(){return function(){return Scribd.RecommendationTracking.track_obj_view(t.view_id,e.data("track_uuid"))}}(this))}(n));return s}}(this)}):void 0},t}(),Scribd.PdfsPaginatedRecommendations=function(){function e(e,t){this.module=t,this.container=$(e),this.setup_tracking(),Scribd.R.dispatch(this.container,{"sidebar:goto_page":function(e){return function(t,n){var i;return i=e.container.find(".documents_page"),i.removeClass("visible").eq(n-1).addClass("visible"),e.track_visible_sidebar()}}(this)})}return e.prototype.setup_tracking=function(){return this.module.compilation_id?new Scribd.RecommendationTracking.Module(this.container,{compilation_id:this.module.compilation_id,module_id:this.module.module_id,widget_name:"right sidebar",on_tracking:function(e){return function(t){e.tracking=t}}(this),on_in_view:function(e){return function(){return e.track_visible_sidebar()}}(this)}):void 0},e.prototype.track_visible_sidebar=function(){var e,t,n,i,r,o,s;if(this.tracking){for(s=this.container.find(".documents_page.visible"),r=s.find(".document_cell"),o=[],t=0,n=r.length;n>t;t++)e=r[t],e=$(e),e.is(".visibility_tracked")||(i=e.data("track_uuid"),Scribd.RecommendationTracking.track_obj_view(this.tracking.view_id,i),o.push(e.addClass("visibility_tracked")));return o}},e}(),Scribd.PdfsSsiRecommendations=function(){function e(e,t){this.opts=t,this.container=$(e),this.setup_sidebar(),Scribd.jsblock.done(function(e){return function(){return e.setup_footer_docs()}}(this))}return e.prototype.setup_sidebar=function(){var e;if(e=this.container.find(".sidebar_recommender"),e.length)switch(this.opts.template){case"default":return new Scribd.PdfsPaginatedRecommendations(e,this.opts.sidebar[0]);case"discovery":return new Scribd.PdfsGroupedRecommendations(e);default:return console.error("Unknown template: "+this.opts.template)}},e.prototype.setup_footer_docs=function(){var e,t,n,i,r,o,s;if(t=this.container.find(".footer_rec_docs"),n=this.container.closest(".document_columns_wrapper").find(".footer_recommended_docs_drop"),t.length)for(n.replaceWith(t),s=t.find("[data-recommender_init]"),r=0,o=s.length;o>r;r++)e=s[r],e=$(e),new Scribd.UI.Carousel(e,e.data("recommender_init"));return i=this.container.find(".footer_rec_docs_html"),i.length?n.replaceWith(i.data("html")):void 0},e}(),Scribd.PdfsSsiFooterRecommendations=function(){function e(e,t){this.opts=t}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{ssi_recommendations:{related:"Relacionado",by:"por",recommended_documents:"Documentos recomendados"}}}});


/* app/views/pdfs/_toolbar.coffee @ 1506640175 */
(function(){var e,t,n,i,r,o,s,a,c,l,u,d,h,p={}.hasOwnProperty,f=[].slice;c=React.DOM,o=c.input,i=c.div,e=c.a,t=c.button,s=c.label,u=c.span,r=c.form,a=c.p,d=c.strong,l=c.section,n=Scribd.R.component_builder("Pdfs.Toolbar",{css_class:"autogen_class_views_pdfs_toolbar"}),h=React.PropTypes,n({propTypes:{fullscreen:h.bool.isRequired,current_zoom:h.number.isRequired,current_page:h.number.isRequired,highlight_callback:h.func,document:h.shape({is_downloadable:h.bool,total_pages:h.number.isRequired,toolbar:h.shape({sections:h.array,search_url:h.string}).isRequired}).isRequired},widget_css_classes:function(e){return classNames(e,{centered_tools:this.state.breakpoint_center_zoomers,narrow_tools:this.state.breakpoint_small_search||this.props.mobile,on_mobile:this.props.mobile})},getInitialState:function(){return{table_of_contents_open:!1,search_results_open:!1,search_results:void 0,search_active:!1,selected_search_result:void 0,search_input:"",changing_to_page:null}},update_width:function(){var e,t,n,i,r,o,s,a,c,l;if(e=this.props.fullscreen?[[1024,"breakpoint_center_zoomers"],[1024,"breakpoint_no_tools"],[1024,"breakpoint_no_pages"],[1024,"breakpoint_no_zoom"],[700,"breakpoint_no_search"],[0,"breakpoint_small_search"],[0,"breakpoint_no_toc"]]:this.props.mobile?[[1024,"breakpoint_center_zoomers"],[700,"breakpoint_no_tools"],[700,"breakpoint_no_zoom"],[550,"breakpoint_no_pages"],[400,"breakpoint_small_search"],[320,"breakpoint_no_toc"],[0,"breakpoint_no_search"]]:[[1024,"breakpoint_center_zoomers"],[700,"breakpoint_no_zoom"],[550,"breakpoint_no_pages"],[400,"breakpoint_no_tools"],[320,"breakpoint_small_search"],[0,"breakpoint_no_search"],[0,"breakpoint_no_toc"]],n=this.container(),l=n.outerWidth(),0!==l){for(c={},i=0,r=e.length;r>i;i++)s=e[i],t=s[0],o=s[1],c[o]=t>l;a=[];for(o in c)if(p.call(c,o)){if(this.state[o]!==c[o]){this.setState(c);break}a.push(void 0)}return a}},componentDidUpdate:function(){return this.update_width()},componentDidMount:function(){return $(window).on("resize orientationchange",_.debounce(this.update_width,150)),this.update_width(),$(document.body).on("click",function(e){return function(t){var n;return e.state.search_results_open&&(n=$(t.target).closest(e.refs.search_wrapper),n.length||e.setState({search_results_open:!1})),e.state.table_of_contents_open&&(n=$(t.target).closest(e.refs.toc_wrapper),!n.length)?e.setState({table_of_contents_open:!1}):void 0}}(this))},set_search_results:function(e,t){var n;if(e===this.state.last_search_query)return"function"==typeof(n=this.props).highlight_callback&&n.highlight_callback(e,t),t.length>0&&this.trigger("toolbar:goto_search_result",0,!0),this.setState({search_results:t,search_results_open:!0,search_active:!1,table_of_contents_open:!1,selected_search_result:t[0]&&0})},render:function(){return[i({className:"left_tools",children:this.render_left_tools()}),i({className:"center_tools",children:this.state.breakpoint_no_pages?void 0:this.render_center_tools()}),i({className:"right_tools",children:this.render_right_tools()})]},render_left_tools:function(){var n;return n=!this.state.breakpoint_no_search&&!this.state.breakpoint_no_toc&&this.props.document.toolbar.sections,[this.props.fullscreen?e({href:"/",className:"toolbar_scribd_logo"}):void 0,n?i({ref:"toc_wrapper",className:"toc_wrapper",children:[t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.table_of_contents"),className:classNames("toc_btn icon-ic_toc_list","toolbar_btn",{active:this.state.table_of_contents_open}),onClick:function(e){return function(){return $(document.body).track_rats("doc:table_of_contents_button:click",{action:e.state.table_of_contents_open?"hide":"show"}),e.setState({table_of_contents_open:!e.state.table_of_contents_open,search_results_open:!1})}}(this)}),this.state.table_of_contents_open?this.render_toc():void 0]}):void 0,!this.state.breakpoint_no_search&&this.props.document.toolbar.search_url?i({ref:"search_wrapper",className:"search_wrapper",children:[this.render_search(),this.state.search_results_open&&this.state.search_results?this.render_search_results():void 0]}):void 0]},render_center_tools:function(){var e,n,r;return e=_.string.numberFormat,r=this.props.current_zoom<=Scribd.PdfsShow.min_zoom,n=this.props.current_zoom>=Scribd.PdfsShow.max_zoom,[i({className:"toolbar_pager",children:[o({type:"number",className:"page_input","aria-label":I18n.t("pdfs.toolbar.go_to_page"),value:null!=this.state.changing_to_page?this.state.changing_to_page:this.props.current_page,onFocus:function(){return function(){return $(document.body).track_rats("doc:pager:click")}}(this),onBlur:function(e){return function(t){var n;if(null!=e.state.changing_to_page)return t.target.value.match(/\d/)&&(n=parseInt(t.target.value,10),n!==e.props.current_page&&e.trigger("toolbar:goto_page",n)),e.setState({changing_to_page:null})}}(this),onKeyDown:function(e){return function(t){if(e.state.changing_to_page)switch(t.keyCode){case 13:return e.trigger("toolbar:goto_page",parseInt(t.target.value,10)),e.setState({changing_to_page:null});case 27:return e.setState({changing_to_page:null})}}}(this),onChange:function(e){return function(t){return e.setState({changing_to_page:t.target.value})}}(this)}),u({className:"total_pages","aria-live":"polite","aria-atomic":"true",children:[u({className:"visually_hidden"},I18n.t("pdfs.toolbar.you_are_on_page_props_current_page",{props_current_page:this.props.current_page})),u({},I18n.t("pdfs.toolbar.of_numberformat_props_document_total_pages",{numberformat_props_document_total_pages:e(this.props.document.total_pages)}))]})]}),this.state.breakpoint_no_zoom?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.zoom_in"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_in_default",{disabled:n}),onClick:function(e){return function(){return n?void 0:e.trigger("toolbar:zoom_in")}}(this)}),this.state.breakpoint_no_zoom?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.zoom_out"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_out_default",{disabled:r}),onClick:function(e){return function(){return r?void 0:e.trigger("toolbar:zoom_out")}}(this)})]},render_right_tools:function(){var e;return e=!this.props.mobile&&!this.state.breakpoint_no_tools,[this.props.document.is_downloadable?this.props.fullscreen||this.props.mobile?this.common_button({className:classNames({slim:this.props.mobile}),onClick:function(e){return function(){return e.trigger("toolbar:download")}}(this)},I18n.t("pdfs.toolbar.download")):this.state.breakpoint_no_tools?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.download"),className:"toolbar_btn icon-ic_download_with_line",onClick:function(e){return function(){return e.trigger("toolbar:download")}}(this)}):void 0,this.props.mobile?void 0:[this.props.document.is_downloadable&&!this.state.breakpoint_no_tools?t({"data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.print"),className:"toolbar_btn icon-ic_print",onClick:function(e){return function(){return e.trigger("toolbar:print")}}(this)}):void 0,t({"data-tooltip":!0,"aria-label":I18n.t(this.props.fullscreen?"pdfs.toolbar.exit_fullscreen":"pdfs.toolbar.fullscreen"),type:"button",className:classNames("toolbar_btn",{"icon-ic_fullscreen_window":!this.props.fullscreen,"icon-ic_fullscreen_collapse":this.props.fullscreen}),onClick:function(e){return function(){return e.trigger("toolbar:fullscreen")}}(this)})]]},render_search:function(){return r({className:classNames("doc_search",{focused:this.state.search_focused,open:this.state.search_results_open,has_text:""!==this.state.search_input,narrow_search:this.state.breakpoint_small_search}),action:this.props.document.toolbar.search_url,onSubmit:function(e){return function(t){var n;return t.preventDefault(),n=$(e.refs.search_input).val(),n.match(/^\s*$/)?void e.setState({search_results_open:!1}):(n=n.match(/^\s*(.*?)\s*$/)[0],n!==e.state.last_search_query?(e.trigger("toolbar:search",n),e.setState({search_active:!0,search_results_open:!1,last_search_query:n,search_results:void 0,selected_search_result:void 0})):void 0)}}(this),children:[s({children:[this.state.search_active?i({className:"scribd_spinner","data-size":20}):void 0,u({className:"icon-ic_search search_icon","aria-hidden":"true",role:"presentation"}),o({type:"text",ref:"search_input","aria-label":I18n.t("pdfs.toolbar.search_document"),placeholder:I18n.t(this.state.breakpoint_small_search?"pdfs.toolbar.search":"pdfs.toolbar.search_document"),className:"search_input",value:this.state.search_input,onChange:function(e){return function(t){return e.setState({search_input:t.target.value})}}(this),onBlur:function(e){return function(t){return e.setState({search_focused:!1}),t.target.value!==e.state.last_search_query?e.trigger("toolbar:clear_search"):void 0}}(this),onFocus:function(e){return function(t){return e.setState({search_focused:!0}),$(document.body).track_rats("doc:search_doc:click"),e.state.search_active||!e.state.search_results||e.state.search_results_open||t.target.value!==e.state.last_search_query?void 0:e.setState({search_results_open:!0})}}(this),onKeyDown:function(e){return function(t){return 27===t.keyCode?e.state.search_results_open?e.setState({search_results_open:!1,last_search_query:null}):e.state.search_active&&e.state.last_search_query?e.setState({search_active:!1,last_search_query:null}):(e.trigger("toolbar:clear_search"),e.setState({search_input:""})):void 0}}(this)}),""!==this.state.search_input?t({type:"button",className:"search_close_icon icon-ic_close",onClick:function(e){return function(){return e.setState({search_input:"",search_active:!1,search_results_open:!1,last_search_query:null}),e.trigger("toolbar:clear_search")}}(this)}):void 0]})]})},render_search_results:function(){var t,n,r,o,s,a;return n=_.string.numberFormat,o=this.state.last_search_query,s=this.state.search_results.filter(function(e){return!!e.snippet}),t=s.length,r=function(e,t,i){return n(e)+" "+(1===e&&t||i)},a=1===t?I18n.t("pdfs.toolbar.showing_strong_1_strong_result_for_query"):I18n.t("pdfs.toolbar.showing_strong_num_results_strong_results_for_query",{num_results:t}),i({className:classNames("search_results results_popup",{empty:0===t}),children:[i({className:"results_header results_header",children:[u({dangerouslySetInnerHTML:{__html:a}}),u({}," \u2018"+o+"\u2019")]}),s.map(function(t){return function(r,s){return i({className:classNames("results_row available",{selected:s===t.state.selected_search_result}),children:[u({className:"result_page_number"},n(r.pageNum)),e.apply(null,[{href:"javascript:void(0)",onClick:function(e){return e.preventDefault(),t.trigger("toolbar:goto_search_result",s),t.setState({selected_search_result:s})}}].concat(f.call(t.render_snippet(r.snippet,o))))]})}}(this))]})},render_snippet:function(e,t){var n,i,r,o,s,c;if(!t)return e;for(r=RegExp(Scribd.escape_regexp(t),"ig"),i=[],o=0;s=r.exec(e);)a=s.index,n=s[0],a-o>0&&i.push(e.substring(o,a)),i.push(d({},n)),o=a+n.length;return(c=e.substring(o))&&i.push(c),i},render_toc:function(){var t,n;return n=_.string.numberFormat,t=null,i({className:"table_of_contents results_popup",children:[i({className:"toc_header results_header"},I18n.t("pdfs.toolbar.table_of_contents")),this.props.document.toolbar.sections.map(function(r){return function(o){return!t&&o.first_page>=r.props.current_page&&(t=o),i({className:classNames("toc_row results_row",{available:o.allowed,current:t===o}),title:o.allowed?void 0:I18n.t("pdfs.toolbar.this_section_not_available_in_preview"),children:[o.first_page?u({className:"result_page_number"},n(o.first_page)):void 0,o.allowed?e({href:"javascript:void(0)",onClick:function(e){return r.trigger("toolbar:goto_page",o.first_page,!0),r.setState({table_of_contents_open:!1}),e.preventDefault()}},o.title):u({className:"disabled_section"},o.title)]})}}(this))]})}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{pdfs:{toolbar:{table_of_contents:"\xcdndice",of_numberformat_props_document_total_pages:"de %{numberformat_props_document_total_pages}",zoom_in:"Acercar",zoom_out:"Alejarse",download:"Descarga",print:"Imprimir",exit_fullscreen:"Salir de pantalla completa",fullscreen:"pantalla completa",search_document:"Buscar documento",this_section_not_available_in_preview:"\xc9sta secci\xf3n not est\xe1 disponible en previsulizaci\xf3n",showing_strong_1_strong_result_for_query:"Mostrando <strong>1</strong> resultado para",showing_strong_num_results_strong_results_for_query:"Mostrando <strong>%{num_results}</strong> resultados para",edit_page:"Editar p\xe1gina",search:"Buscar",go_to_page:"Ir a p\xe1gina",you_are_on_page_props_current_page:"Est\xe1 en la p\xe1gina %{props_current_page}"}}}});


/* app/views/pdfs/upvote.coffee @ 1506640175 */
(function(){Scribd.Upvote=function(){function e(e,t){this.opts=t,this.container=$(e),$(document).on("scribd:upvote_popover:show:above_banner",function(e){return function(){return e.show_above_banner()}}(this)),$(document).on("scribd:upvote_popover:show",function(e){return function(){return e.show()}}(this)),$(document).on("scribd:upvote_popover:hide",function(e){return function(){return _.delay(function(){return e.hide()},2e3)}}(this)),$(document).on("scribd:rating_update, scribd:upvote_update",function(e){return function(){return _.delay(function(){return e.hide()},2e3)}}(this)),this.container.on("click",".close",function(e){return function(){return e.hide()}}(this)),this.container.one("click",".thumbs_up",function(e){return function(){return e.container.find(".thumbs_up .icon"),e.container.find(".thumbs_up").addClass("selected has_selection"),e.rate(5)}}(this)),this.container.one("click",".thumbs_down",function(e){return function(){return e.container.find(".thumbs_down .icon"),e.container.find(".thumbs_down").addClass("selected has_selection"),e.rate(1)}}(this))}return e.prototype.rate=function(e){return Scribd.with_login({initial_view:"join",track_location:"upvotes",join_header_text:I18n.t("shared.react.star_ratings.sign_up_to_rate_this_title")},function(t){return function(){return $.post(t.opts.ratings_path,{rated:e,source:4}),t.container.trigger("scribd:rating_update"),t.container.trigger("scribd:upvote_update:pdf_reader",{rating:e,doc_id:t.opts.doc_id}),_.delay(function(){return t.hide()},1e3)}}(this))},e.prototype.show=function(){return this.container.fadeIn(1e3)},e.prototype.show_above_banner=function(){return this.container.css("bottom","100px"),this.container.fadeIn(1e3)},e.prototype.hide=function(){return this.container.fadeOut(1e3)},e}()}).call(this);


/* app/views/shared/reading_progress/audio.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Scribd.ReadingProgress.Audio=function(n){function i(t){this.opts=null!=t?t:{},this.update=e(this.update,this),this.player=Scribd.audiobook_player,this.previous_progress=this.get_progress(),i.__super__.constructor.call(this,this.opts),this._player_listen_events=["scribd:audiobook:play","scribd:audiobook:pause","scribd:audiobook:bookmark_location","scribd:audiobook:unload","scribd:audiobook:trackChanged","scribd:audiobook:next","scribd:audiobook:prev","scribd:audiobook:seekTo","scribd:audiobook:skipBack","scribd:audiobook:jumpTo"].join(" "),this.player.on(this._player_listen_events,this.update),this.update_interval=setInterval(this.update,this.post_ms)}return t(i,n),i.get_track_and_position=function(e){var t,n,i,r,o,s;if(n=Scribd.audiobook_player.current_chapters(),e>Scribd.audiobook_player.get_runtime())return{track_num:n.length-1,track_pos:n[n.length-1].duration};for(i=0,o=r=0,s=n.length;s>r;o=++r){if(t=n[o],!(i+t.duration<e))return{track_num:o,track_pos:e-i};i+=t.duration}},i.prototype.enabled=function(){return this.player?i.__super__.enabled.apply(this,arguments):!1},i.prototype.default_opts=function(){return _.extend(i.__super__.default_opts.apply(this,arguments),{preview_restricted:null,preview_threshold:null,player:null})},i.prototype.external_progress_notification_message=function(e){return I18n.t("shared.reading_progress.audio.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})},i.prototype.create_flash_notice=function(e){return Scribd.Flasher.toast("notice",e)},i.prototype.destroy=function(){return clearInterval(this.update_interval),this.player.off(this._player_listen_events,this.update)},i.prototype.update=function(){var e;if(this.enabled())return e=this.get_progress(),this.offset_type="ms",this.offset=e,this.percentage=e/this.player.get_runtime()*100,this.player.isPlaying()?(this.post(),this.track_for_payouts()):void 0},i.prototype.get_progress=function(e,t){var n,i,r,o,s,a;if(null==e&&(e=this.player.get_track_num()),null==t&&(t=this.player.get_track_pos()),i=null!=(a=this.player.current_chapters())?a.slice(0,e):void 0){for(s=0,r=0,o=i.length;o>r;r++)n=i[r],s+=n.duration;return s+=t,this.opts.preview_restricted?s=Math.min(s,this.opts.preview_threshold):s}},i.prototype.track_for_payouts=function(){var e;return e=this.get_progress(),$rat("abook_listen",[Scribd.current_doc.id,void 0,void 0,this.previous_progress,e]),$rat.root().flushEvents(),this.previous_progress=e},i}(Scribd.ReadingProgress.Base)}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{shared:{reading_progress:{audio:{we_ve_moved_you_to_where_you:"Lo llevamos hasta donde escuch\xf3 en su %{progress_device_name}"}}}}});


/* app/views/shared/reading_progress/epub.coffee @ 1506640175 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.ReadingProgress.Epub=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.update=function(e,t,n){return this.enabled()?(this.offset_type=e,this.offset=t,this.percentage=n,this.throttled_post_handler()):void 0},n.prototype.track=function(){},n}(Scribd.ReadingProgress.Base)}).call(this);


/* app/views/shared/reading_progress/past_preview_lightbox.coffee @ 1506640175 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.ReadingProgress.PastPreviewLightbox=function(t){function n(e,t){this.opts=null!=t?t:{},this.container=$(e),n.__super__.constructor.apply(this,arguments),this.show(),this.container.dispatch("click",{restart_preview:function(e){return function(){return null!=Scribd.read_page?Scribd.read_page.goto_progress({offset_type:"character",offset:0}):"undefined"!=typeof docManager&&null!==docManager&&docManager.gotoPage(1),e.close(!0)}}(this),get_full_title:function(e){return function(){return e.close(!0),"continue"}}(this)})}return e(n,t),n.should_be_shown=function(){var e;return e=!0,function(){var t,n;return e&&Scribd.logged_in&&(null==Scribd.read_page||Scribd.read_page.is_viewer_ready())?(e=!1,t=(null!=(n=Scribd.current_doc.reading_progress)?n.offset:void 0)||0,null!=Scribd.read_page?Scribd.read_page.epub.isProgressBeyondBounds(t):"undefined"!=typeof docManager&&null!==docManager?t+1>docManager._maximumAllowedPage:void 0):!1}}(),n.prototype.show=function(){var e;if(Scribd.ReadingProgress.PastPreviewLightbox.should_be_shown()&&this.opts.credit_restricted)return n.__super__.show.apply(this,arguments),e=Scribd.current_doc.is_comic?"comic":Scribd.current_doc.is_sheet_music?"sheet music":"book",this.container.track_rats("reading_progress:progress_moved:show",{doc_id:Scribd.current_doc.id,desired_offset:Scribd.current_doc.reading_progress.offset,offset_type:Scribd.current_doc.reading_progress.offset_type,document_type:e,is_preview:!0})},n.prototype.close=function(e){return null==e&&(e=!1),e?n.__super__.close.apply(this,arguments):void 0},n}(Scribd.StackedLightbox)}).call(this),(Scribd.translations=Scribd.translations||[]).push({"es-419":{shared:{reading_progress:{past_preview_lightbox:{get_the_full_title_to_continue:"Obtenga el t\xedtulo completo para continuar",get_the_full_title_to_continue_:"Obtenga el t\xedtulo completo para seguir escuchando desde donde termin\xf3, o reinicie la previsualizaci\xf3n.",restart_preview:"Reiniciar previsualizaci\xf3n",this_title_now_requires_a_credit:"This title now requires a credit",use_one_of_your_book_credits:"Use one of your book credits to continue reading from where you left off, or restart the preview."}}}}});


/* app/views/shared/reading_progress/pdf.coffee @ 1506640175 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Scribd.ReadingProgress.Pdf=function(n){function i(t){this.opts=null!=t?t:{},this.update=e(this.update,this),i.__super__.constructor.call(this,this.opts),this.container=$(this.opts.container),this.doc_id=this.opts.doc_id,$(this.opts.scroll_node).off(this.events.scroll).on(this.events.scroll,this.update),this.container.on("scroll",function(e){return function(){return e.track_view()}}(this)),$(window).on("resize",function(e){return function(){return e.track_view()}}(this)),this.track_view(),setTimeout(function(e){return function(){return e.tracking_enabled=!0,e.track_view()}}(this),1e3),this.tick_track_later=_.debounce(function(e){return function(){return e.tick_track.apply(e,arguments)}}(this),1e3),setInterval(function(e){return function(){return e.current_event&&new Date-e.current_event.time>6e5?e.flush_current_event():void 0}}(this),5e3),$(window).on("beforeunload unload",function(e){return function(){return e.flush_current_event()}}(this))}return t(i,n),i.prototype.enabled=function(){return window.docManager&&this.opts.scroll_node?i.__super__.enabled.apply(this,arguments):!1},i.prototype.default_opts=function(){return _.extend(i.__super__.default_opts.apply(this,arguments),{scroll_node:null})},i.prototype.update=function(){var e;if(this.enabled())return e=window.docManager.currentPageNum()-1,this.offset_type="page",this.offset=e,this.percentage=e/this.opts.total_pages*100,this.throttled_post_handler()},i.prototype.flush_current_event=function(){return this.current_event?($rat("doc:view_end",{top_view_position:this.current_event.left,bottom_view_position:this.current_event.right,duration:(new Date-this.current_event.time)/1e3,doc_id:this.opts.doc_id}),this.current_event=null,"undefined"!=typeof $rat&&null!==$rat?$rat.root().flushEvents():void 0):void 0},i.prototype.tick_track=function(e,t){return this.flush_current_event(),this.current_event={left:e,right:t,time:+new Date},$rat("doc:view",{top_view_position:e,bottom_view_position:t,doc_id:this.opts.doc_id})},i.prototype.track_view=function(){var e,t,n,i,r,o;if(this.tracking_enabled&&this.container.is(":visible")&&(t=this.container[0],e=this.container.find(".document_container")[0],o=t.scrollTop,n=e.scrollHeight,i=Math.max(0,Math.min(1,o/n)),r=Math.max(0,Math.min(1,(o+t.offsetHeight)/n)),i!==r))return this.tick_track_later(Math.floor(100*i),Math.floor(100*r))},i}(Scribd.ReadingProgress.Base)}).call(this);
